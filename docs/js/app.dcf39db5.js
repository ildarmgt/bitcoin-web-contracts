(function(e){function t(t){for(var n,r,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s={app:0},o=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2a6f7e7e":"8aa07c6e"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-2a6f7e7e":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-2a6f7e7e":"a843f346"}[e]+".css",s=c.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===n||l===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],p.parentNode.removeChild(p),a(o)},p.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}s[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0311":function(e,t,a){},1:function(e,t){},"196c":function(e,t,a){"use strict";var n=a("da9e"),r=a.n(n);r.a},2:function(e,t){},"2e3d":function(e,t,a){"use strict";var n=a("9418"),r=a.n(n);r.a},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"router",(function(){return Fe}));a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("8c4f"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("Header"),a("div",{staticClass:"view"},[a("router-view")],1),a("Footer"),a("DevPanel"),a("flash-message",{staticClass:"flashMessage",attrs:{transitionIn:"animated swing"}})],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"footer__warning text_light"},[e._v(" Warning: Demonstration only. Not reviewed for public use. ")]),a("div",{staticClass:"footer__address text_light"},[e._v(" donate: 1HYhi1D8VCv4dRZhbAy1ghKGRv3UU34pb6 ")]),a("a",{staticClass:"footer__source text_light",attrs:{href:"https://github.com/ildarmgt/bitcoin-web-contracts",target:"_blank"}},[e._v(" < Source Code > ")]),a("div",{staticClass:"footer__email text_light"},[e._v(" ildarmgt@gmail.com ")]),a("br"),a("a",{staticClass:"footer__dl text_light",attrs:{href:"./dapp.zip"}},[e._v(" download as zip "),a("svg",{staticClass:"icon",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M14 2v11h2.51l-4.51 5.01-4.509-5.01h2.509v-11h4zm2-2h-8v11h-5l9 10 9-10h-5v-11zm1 22h-10v2h10v-2z"}})])]),a("br"),a("BitcoinLogo",{staticClass:"footer__logo"})],1)},c=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo noselect"},[e._v(" â‚¿ ")])},l=[],d={name:"BitcoinLogo"},p=d,f=(a("2e3d"),a("2877")),h=Object(f["a"])(p,u,l,!1,null,"62af66d7",null),v=h.exports,g={name:"Footer",components:{BitcoinLogo:v}},m=g,b=(a("70d5"),Object(f["a"])(m,i,c,!1,null,"97ae52f6",null)),w=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"title",attrs:{to:"/"}},[a("span",{staticClass:"title__bitcoin"},[e._v("Bitcoin")]),e._v(" Smart Contracts ")])},C=[],O={name:"Header"},I=O,F=(a("9734"),Object(f["a"])(I,y,C,!1,null,"22080f20",null)),P=F.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[this.show?a("div",{staticClass:"devpanel"},[e._v(" Dev Panel "),a("div",{staticClass:"devButton",on:{click:e.outlineClicked}},[e._v(" outline ")])]):e._e()])},k=[],T={name:"DevPanel",data:function(){return{show:!1}},created:function(){var e=this;window.addEventListener("keydown",(function(t){"`"===t.key&&(e.show=!e.show)}))},methods:{outlineClicked:function(){var e="outliner",t=document.getElementById(e);if(t)t.disabled=!0,t.parentNode.removeChild(t);else{var a="* {box-shadow: 0 0 0 0.15vmin red;}",n=document.createElement("style");n.type="text/css",n.id="outliner",n.appendChild(document.createTextNode(a)),document.head.appendChild(n)}}}},V=T,_=(a("ccb0"),Object(f["a"])(V,S,k,!1,null,"35ac231e",null)),E=_.exports,j={name:"App",components:{Header:P,Footer:w,DevPanel:E}},x=j,A=(a("196c"),Object(f["a"])(x,s,o,!1,null,"5c7a99e1",null)),K=A.exports,W=a("2f62"),L=a("5530"),N=a("c545"),D=!0,H={pages:[{pageTitle:"Will Timer",valid:!1,usable:!0},{pageTitle:"Owner Key",valid:!1,usable:!0},{pageTitle:"Heir Key",valid:!1,usable:!0},{pageTitle:"Contract",valid:!0,usable:!1}],pageSelected:1,contractValues:{daysDelay:"1",ownerPrivateKeyWIF:"",heirPrivateKeyWIF:"",networkChoice:"testnet",addressType:"p2wsh"}},U={getPageSelectedIC:function(e){return e.pageSelected},getContractValuesIC:function(e){return e.contractValues},getPagesInfoIC:function(e){return e.pages},getDelayIC:function(e){return e.contractValues.daysDelay}},M={initializeIC:function(e){var t=e.commit,a=e.state,n=e.dispatch;if(!a.contractValues.ownerPrivateKeyWIF||!a.contractValues.heirPrivateKeyWIF){var r=Object(N["d"])(a.contractValues.networkChoice),s=Object(N["d"])(a.contractValues.networkChoice);t("setContractValues",{ownerPrivateKeyWIF:r,heirPrivateKeyWIF:s}),n("updatePageStatusIC")}},updateKeysIfInvalid:function(e){var t=e.commit,a=e.state,n=e.dispatch,r=Object(N["c"])({wif:a.contractValues.ownerPrivateKeyWIF,networkChoice:a.contractValues.networkChoice}),s=Object(N["c"])({wif:a.contractValues.heirPrivateKeyWIF,networkChoice:a.contractValues.networkChoice});if(!r){var o=Object(N["d"])(a.contractValues.networkChoice);t("setContractValues",{ownerPrivateKeyWIF:o})}if(!s){var i=Object(N["d"])(a.contractValues.networkChoice);t("setContractValues",{heirPrivateKeyWIF:i})}n("updatePageStatusIC")},updatePageStatusIC:function(e){var t=e.commit,a=e.state,n=a.contractValues.networkChoice,r=a.contractValues.daysDelay<=388,s=Object(N["c"])({wif:a.contractValues.ownerPrivateKeyWIF,networkChoice:n}),o=Object(N["c"])({wif:a.contractValues.heirPrivateKeyWIF,networkChoice:n});t("setPageStatus",{pageNumber:1,valid:r,usable:!0}),t("setPageStatus",{pageNumber:2,valid:s,usable:!0}),t("setPageStatus",{pageNumber:3,valid:o,usable:!0}),t("setPageStatus",r&&s&&o?{pageNumber:4,valid:!0,usable:!0}:{pageNumber:4,valid:!1,usable:!1})},changePageIC:function(e,t){var a=e.commit,n=e.state,r=n.pages[t-1];r&&r.usable&&a("setPage",t)},updateContractValuesIC:function(e,t){var a=e.commit,n=e.dispatch;a("setContractValues",t),n("updatePageStatusIC")}},R={setPageStatus:function(e,t){var a=t.pageNumber,n=t.valid,r=t.usable;e.pages[a-1].valid=n,e.pages[a-1].usable=r},setPage:function(e,t){e.pageSelected=0,e.pageSelected=t},setContractValues:function(e,t){e.contractValues=Object(L["a"])(Object(L["a"])({},e.contractValues),t)}},X={namespaced:D,state:H,getters:U,actions:M,mutations:R},z=(a("13d5"),a("b680"),a("b64b"),a("ac1f"),a("1276"),!0),B={pages:[{pageTitle:"Input backup",valid:!0,usable:!0},{pageTitle:"From where",valid:!0,usable:!1},{pageTitle:"To where",valid:!0,usable:!1},{pageTitle:"Transaction",valid:!0,usable:!1}],file:void 0,pageSelected:1,contractValues:{ownerPrivateKeyWIF:"",address:"",scriptHex:"",networkChoice:"",addressType:"",daysLocked:"",selectedUTXO:{},sumOfUTXO:"",spending:!0,change:!0,showForm:!1,toAddress:"",toAmount:"21000000",feeRate:"1.000",changeAddress:"",feeAmount:"0",changeAmount:"0",vSize:100,tx:""},issues:{}},G={getPageSelected:function(e){return e.pageSelected},getFile:function(e){return e.file},getContractValues:function(e){return e.contractValues},getPagesInfo:function(e){return e.pages},getIssues:function(e){return e.issues}},$={setFile:function(e,t){e.file=t},setPageStatus:function(e,t){var a=t.pageNumber,n=t.valid,r=t.usable;e.pages[a-1].valid=n,e.pages[a-1].usable=r},setPage:function(e,t){e.pageSelected=0,e.pageSelected=t},setContractValues:function(e,t){e.contractValues=Object(L["a"])(Object(L["a"])({},e.contractValues),t)},setIssues:function(e,t){e.issues=Object(L["a"])(Object(L["a"])({},e.issues),t)}},Y={changeContractValues:function(e,t){var a=e.commit,n=e.dispatch,r=e.state;a("setContractValues",t),n("deriveSpendingInfo"),n("deriveFromLastData"),a("setContractValues",{tx:Object(N["e"])(r.contractValues)}),n("deriveFromLastData"),a("setContractValues",{tx:Object(N["e"])(r.contractValues)}),n("updateStatus")},deriveSpendingInfo:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=Object.keys(n.selectedUTXO).reduce((function(e,t){return e+(parseFloat(n.selectedUTXO[t])||0)}),0).toFixed(8);t("setContractValues",{sumOfUTXO:r});var s=n.address;t("setContractValues",{changeAddress:s}),n.spending||t("setContractValues",{toAmount:"0",change:!0})},deriveFromLastData:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=n.tx,s=r?r.virtualSize():n.vSize,o=Math.ceil(s*parseFloat(n.feeRate)+1e-8),i=Math.floor(1e8*parseFloat(n.sumOfUTXO)),c=Math.floor(1e8*parseFloat(n.toAmount)),u=Math.floor(i-o-c);(u<=0||!n.change||c<0)&&(c=Math.floor(c+u),u=0),t("setContractValues",{vSize:s,feeAmount:(1e-8*o).toFixed(8),toAmount:(1e-8*c).toFixed(8),changeAmount:(1e-8*u).toFixed(8),change:0!==u})},changeFile:function(e,t){var a=e.commit;a("setFile",t)},updateStatus:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=Object(N["g"])(n.ownerPrivateKeyWIF);t("setIssues",{ownerPrivateKeyWIF:!r,ownerPrivateKeyWIFInfo:r});var s=Object(N["f"])(n.address);t("setIssues",{address:!s,addressInfo:s});var o=r===s;t("setIssues",{addressNetwork:!o}),t("setContractValues",{networkChoice:o&&r?r:""});var i,c=n.address;"3"===c.substring(0,1)&&(i="p2sh"),"2"===c.substring(0,1)&&(i="p2sh"),"bc"===c.substring(0,2)&&(i="p2wsh"),"tb"===c.substring(0,2)&&(i="p2wsh"),t("setContractValues",{addressType:i});var u=!!n.relativeLockTime;t("setIssues",{relativeLockTime:!u});var l=!!n.scriptHex;t("setIssues",{scriptHex:!l});var d=r&&s&&o&&u&&l,p=n.sumOfUTXO>0,f=Object.keys(n.selectedUTXO).reduce((function(e,t){var a=t.split("-")[0],n=t.split("-")[1],r=!!a.length,s=!!n.length,o=!!t.length;return e&&r&&s&&o}),!0),h=f&&p,v=!!n.toAddress.length,g=!!n.changeAmount,m=!!n.feeRate,b=parseFloat(n.toAmount)>0,w=parseFloat(n.changeAmount)>0,y=parseFloat(n.feeRate)>=1,C=!!n.tx,O=Object(N["f"])(n.toAddress),I=O===n.networkChoice,F=(v&&O||!n.spending)&&(g||!n.change)&&m&&(b||w)&&y&&C;t("setIssues",{page3:Object(L["a"])(Object(L["a"])(Object(L["a"])(Object(L["a"])(Object(L["a"])({},!v&&n.spending?{isToAddressDone:"Address can't be blank"}:{}),v&&!I&&n.spending?{isNetworkMatch:"Address appears invalid for "+n.networkChoice}:{}),y?{}:{isFeeRateEnough:"Fee must be > 1 sat/vByte to be relayed by most nodes."}),!n.spending||b||w?{}:{enoughForFee:"Need Amount > 0. Insufficient funds after fee."}),n.spending&&!b&&w?{isToAmountEnough:"Need Amount > 0. Maybe you want to only reset timer?"}:{})}),t("setPageStatus",{pageNumber:1,valid:d,usable:!0}),t("setPageStatus",{pageNumber:2,valid:h,usable:d}),t("setPageStatus",{pageNumber:3,valid:F,usable:h}),t("setPageStatus",{pageNumber:4,valid:!0,usable:F})},changePage:function(e,t){var a=e.commit,n=e.state,r=n.pages[t-1];r&&r.usable&&a("setPage",t)}},Q={namespaced:z,state:B,getters:G,actions:Y,mutations:$},q=!0,J={pages:[{pageTitle:"Input backup",valid:!0,usable:!0},{pageTitle:"From where",valid:!0,usable:!1},{pageTitle:"To where",valid:!0,usable:!1},{pageTitle:"Transaction",valid:!0,usable:!1}],file:void 0,pageSelected:1,contractValues:{heirPrivateKeyWIF:"",address:"",scriptHex:"",networkChoice:"",addressType:"",daysLocked:"",relativeLockTime:"",selectedUTXO:{},sumOfUTXO:"",toAddress:"",feeRate:"1.000",toAmount:"21000000",feeAmount:"0",vSize:100,tx:""},issues:{}},Z={getPageSelected:function(e){return e.pageSelected},getFile:function(e){return e.file},getContractValues:function(e){return e.contractValues},getPagesInfo:function(e){return e.pages},getIssues:function(e){return e.issues}},ee={setFile:function(e,t){e.file=t},setPageStatus:function(e,t){var a=t.pageNumber,n=t.valid,r=t.usable;e.pages[a-1].valid=n,e.pages[a-1].usable=r},setPage:function(e,t){e.pageSelected=0,e.pageSelected=t},setContractValues:function(e,t){e.contractValues=Object(L["a"])(Object(L["a"])({},e.contractValues),t)},setIssues:function(e,t){e.issues=Object(L["a"])(Object(L["a"])({},e.issues),t)}},te={changeContractValues:function(e,t){var a=e.commit,n=e.dispatch,r=e.state;a("setContractValues",t),n("deriveSpendingInfo"),n("deriveFromLastData"),a("setContractValues",{tx:Object(N["a"])(r.contractValues)}),n("deriveFromLastData"),a("setContractValues",{tx:Object(N["a"])(r.contractValues)}),n("updateStatus")},deriveSpendingInfo:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=Object.keys(n.selectedUTXO).reduce((function(e,t){return e+(parseFloat(n.selectedUTXO[t])||0)}),0).toFixed(8);t("setContractValues",{sumOfUTXO:r})},deriveFromLastData:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=n.tx,s=r?r.virtualSize():n.vSize,o=Math.ceil(s*parseFloat(n.feeRate)+1e-8),i=Math.floor(1e8*parseFloat(n.sumOfUTXO)),c=Math.floor(i-o);t("setContractValues",{vSize:s,feeAmount:(1e-8*o).toFixed(8),toAmount:(1e-8*c).toFixed(8)})},changeFile:function(e,t){var a=e.commit;a("setFile",t)},updateStatus:function(e){var t=e.commit,a=e.state,n=a.contractValues,r=Object(N["g"])(n.heirPrivateKeyWIF);t("setIssues",{heirPrivateKeyWIF:!r,heirPrivateKeyWIFInfo:r});var s=Object(N["f"])(n.address);t("setIssues",{address:!s,addressInfo:s});var o=r===s;t("setIssues",{addressNetwork:!o}),t("setContractValues",{networkChoice:o&&r?r:""});var i,c=n.address;"3"===c.substring(0,1)&&(i="p2sh"),"2"===c.substring(0,1)&&(i="p2sh"),"bc"===c.substring(0,2)&&(i="p2wsh"),"tb"===c.substring(0,2)&&(i="p2wsh"),t("setContractValues",{addressType:i});var u=!!n.relativeLockTime;t("setIssues",{relativeLockTime:!u});var l=!!n.scriptHex;t("setIssues",{scriptHex:!l});var d=r&&s&&o&&u&&l,p=n.sumOfUTXO>0,f=Object.keys(n.selectedUTXO).reduce((function(e,t){var a=t.split("-")[0],n=t.split("-")[1],r=!!a.length,s=!!n.length,o=!!t.length;return e&&r&&s&&o}),!0),h=f&&p,v=!!n.toAddress.length,g=!!n.feeRate,m=parseFloat(n.toAmount)>0,b=parseFloat(n.feeRate)>=1,w=!!n.tx,y=Object(N["f"])(n.toAddress),C=y===n.networkChoice,O=v&&C&&g&&m&&b&&w;t("setIssues",{page3:Object(L["a"])(Object(L["a"])(Object(L["a"])(Object(L["a"])({},v?{}:{isToAddressDone:"Address can't be blank"}),v&&!C?{isNetworkMatch:"Address appears invalid for "+n.networkChoice}:{}),b?{}:{isFeeRateEnough:"Fee must be > 1 sat/vByte to be relayed by most nodes."}),m?{}:{enoughForFee:"Need Amount > 0. Insufficient funds after fee."})}),t("setPageStatus",{pageNumber:1,valid:d,usable:!0}),t("setPageStatus",{pageNumber:2,valid:h,usable:d}),t("setPageStatus",{pageNumber:3,valid:O,usable:h}),t("setPageStatus",{pageNumber:4,valid:!0,usable:O})},changePage:function(e,t){var a=e.commit,n=e.state,r=n.pages[t-1];r&&r.usable&&a("setPage",t)}},ae={namespaced:q,state:J,getters:Z,actions:te,mutations:ee};n["a"].use(W["a"]);var ne=new W["a"].Store({modules:{inheritanceCreate:X,inheritanceOwner:Q,inheritanceHeir:ae}}),re=a("d00d"),se=a.n(re),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(" My Decentralized Applications (dApps): ")]),a("div",{staticClass:"view"},[a("DappList")],1)])},ie=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-link",{staticClass:"button",attrs:{to:"/inheritance"}},[e._v(" Inheritance dApp ")])],1)},ue=[],le={name:"DappList"},de=le,pe=Object(f["a"])(de,ce,ue,!1,null,null,null),fe=pe.exports,he={name:"IntroPage",components:{DappList:fe}},ve=he,ge=(a("c56d"),Object(f["a"])(ve,oe,ie,!1,null,"99867e86",null)),me=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" (TODO) ")])},we=[],ye={name:"PuzzleDelay"},Ce=ye,Oe=Object(f["a"])(Ce,be,we,!1,null,null,null),Ie=Oe.exports;a("aede"),a("ab24");n["a"].use(r["a"]),n["a"].use(se.a);var Fe=new r["a"]({routes:[{path:"/",component:me},{path:"/inheritance",component:function(){return a.e("chunk-2a6f7e7e").then(a.bind(null,"6039"))}},{path:"/puzzledelay",component:Ie}]});n["a"].config.productionTip=!1,new n["a"]({router:Fe,store:ne,render:function(e){return e(K)}}).$mount("#app")},5818:function(e,t,a){},"70d5":function(e,t,a){"use strict";var n=a("d917"),r=a.n(n);r.a},9306:function(e,t,a){},9418:function(e,t,a){},9734:function(e,t,a){"use strict";var n=a("5818"),r=a.n(n);r.a},ab24:function(e,t,a){},aede:function(e,t,a){},c545:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return f}));a("4160"),a("a15b"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("466d"),a("1276"),a("159b");var n=a("59da"),r=a.n(n),s=a("c4d5"),o=a.n(s),i=function(t){try{var a=r.a.opcodes,n=r.a.networks[t.networkChoice],s=r.a.Transaction.SIGHASH_ALL,o=r.a.ECPair.fromWIF(t.heirPrivateKeyWIF,n),i=t.scriptHex,c=Math.floor(1e8*parseFloat(t.toAmount)),u=e.from(i,"hex"),l=u,d=new r.a.TransactionBuilder(n),p=parseInt(t.relativeLockTime,10);Object.keys(t.selectedUTXO).forEach((function(t){var a=t.split("-")[0],n=t.split("-")[1];d.addInput(e.from(a.match(/../g).reverse().join(""),"hex"),parseInt(n,10),p)})),d.addOutput(t.toAddress,c);var f=d.buildIncomplete();return f.ins.forEach((function(e,i){var c=e.hash.toString("hex").match(/../g).reverse().join(""),d=e.index.toString(),p=Math.floor(1e8*parseFloat(t.selectedUTXO[c+"-"+d])),h=f.hashForWitnessV0(i,l,p,s),v=f.hashForSignature(i,u,s),g=r.a.script.signature.encode(o.sign(h),s),m=r.a.script.signature.encode(o.sign(v),s),b=r.a.payments.p2wsh({redeem:{input:r.a.script.compile([g,a.OP_FALSE]),output:l},network:n}).witness,w=r.a.payments.p2sh({redeem:{input:r.a.script.compile([m,a.OP_FALSE]),output:u}}).input;if("p2wsh"===t.addressType)f.setWitness(i,b);else{if("p2sh"!==t.addressType)throw new Error("my errors: source address type unknown");f.setInputScript(i,w)}})),f}catch(h){return}},c=function(t){try{var a=r.a.opcodes,n=r.a.networks[t.networkChoice],s=r.a.Transaction.SIGHASH_ALL,o=r.a.ECPair.fromWIF(t.ownerPrivateKeyWIF,n),i=t.scriptHex,c=t.spending,u=Math.floor(1e8*parseFloat(t.toAmount)),l=Math.floor(1e8*parseFloat(t.changeAmount)),d=e.from(i,"hex"),p=d,f=new r.a.TransactionBuilder(n);Object.keys(t.selectedUTXO).forEach((function(t){var a=t.split("-")[0],n=t.split("-")[1];f.addInput(e.from(a.match(/../g).reverse().join(""),"hex"),parseInt(n,10),4294967294)})),c&&0!==u&&f.addOutput(t.toAddress,u),t.change&&f.addOutput(t.changeAddress,l);var h=f.buildIncomplete();return h.ins.forEach((function(e,i){var c=e.hash.toString("hex").match(/../g).reverse().join(""),u=e.index.toString(),l=Math.floor(1e8*parseFloat(t.selectedUTXO[c+"-"+u])),f=h.hashForWitnessV0(i,p,l,s),v=h.hashForSignature(i,d,s),g=r.a.script.signature.encode(o.sign(f),s),m=r.a.script.signature.encode(o.sign(v),s),b=r.a.payments.p2wsh({redeem:{input:r.a.script.compile([g,a.OP_TRUE]),output:p},network:n}).witness,w=r.a.payments.p2sh({redeem:{input:r.a.script.compile([m,a.OP_TRUE]),output:d}}).input;if("p2wsh"===t.addressType)h.setWitness(i,b);else{if("p2sh"!==t.addressType)throw new Error("my errors: source address type unknown");h.setInputScript(i,w)}})),h}catch(v){return}},u=function(e){var t=r.a.networks[e];return r.a.ECPair.makeRandom({network:t}).toWIF()},l=function(e){var t=e.days,a=e.ownerPrivateKeyWIF,n=e.heirPrivateKeyWIF,s=e.networkChoice,i=e.addressType,c=r.a.networks[s],u=r.a.opcodes,l=r.a.script.number.encode,d=r.a.ECPair.fromWIF(a,c),p=r.a.ECPair.fromWIF(n,c),f=o.a.encode({seconds:512*Math.floor(24*t*60*60/512)}),h=r.a.script.compile([u.OP_IF,d.publicKey,u.OP_CHECKSIG,u.OP_ELSE,l(f),u.OP_CHECKSEQUENCEVERIFY,u.OP_DROP,p.publicKey,u.OP_CHECKSIG,u.OP_ENDIF]),v=r.a.payments.p2wsh({redeem:{output:h,network:c},network:c}),g=r.a.payments.p2sh({redeem:{output:h,network:c},network:c}),m={contract:"inheritance timer",addressType:i,networkChoice:s,contractSummary:"IF <ownerPublicKey> CHECKSIG ELSE <relativeLockTime> CHECKSEQUENCEVERIFY DROP <heirPublicKey> CHECKSIG ENDIF",ownerPrivateKeyWIF:a,heirPrivateKeyWIF:n,witnessScriptHex:h.toString("hex"),witnessScriptHash:r.a.crypto.sha256(h).toString("hex"),relativeLockTime:f.toString(),currentDate:(new Date).toString(),daysAfterConfirmForUnlock:t,address:v.address},b={contract:"inheritance timer",network:s,addressType:i,contractSummary:"IF <ownerPublicKey> CHECKSIG ELSE <relativeLockTime> CHECKSEQUENCEVERIFY DROP <heirPublicKey> CHECKSIG ENDIF",ownerPrivateKeyWIF:a,heirPrivateKeyWIF:n,redeemScriptHex:h.toString("hex"),redeemScriptHash:r.a.crypto.sha256(h).toString("hex"),relativeLockTime:f.toString(),currentDate:(new Date).toString(),daysAfterConfirmForUnlock:t,address:g.address};return"p2wsh"===i?m:"p2sh"===i?b:void 0},d=function(e){var t=e.wif,a=e.networkChoice;try{var n=r.a.networks[a];return r.a.ECPair.fromWIF(t,n),!0}catch(s){return!1}},p=function(e){var t;try{r.a.ECPair.fromWIF(e,r.a.networks.bitcoin),t="bitcoin"}catch(a){}try{r.a.ECPair.fromWIF(e,r.a.networks.testnet),t="testnet"}catch(a){}return t},f=function(e){var t;try{r.a.address.toOutputScript(e,r.a.networks.bitcoin),t="bitcoin"}catch(a){}try{r.a.address.toOutputScript(e,r.a.networks.testnet),t="testnet"}catch(a){}return t}}).call(this,a("b639").Buffer)},c56d:function(e,t,a){"use strict";var n=a("0311"),r=a.n(n);r.a},ccb0:function(e,t,a){"use strict";var n=a("9306"),r=a.n(n);r.a},d917:function(e,t,a){},da9e:function(e,t,a){}});
//# sourceMappingURL=app.dcf39db5.js.map