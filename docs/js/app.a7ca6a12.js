(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0311":function(t,e,n){},"069b":function(t,e,n){"use strict";var r=n("1f51"),a=n.n(r);a.a},"0a22":function(t,e,n){"use strict";var r=n("9e48"),a=n.n(r);a.a},"0f38":function(t,e,n){"use strict";var r=n("d563"),a=n.n(r);a.a},1:function(t,e){},"12d1":function(t,e,n){},"131a":function(t,e,n){},1496:function(t,e,n){"use strict";var r=n("4169"),a=n.n(r);a.a},"196c":function(t,e,n){"use strict";var r=n("da9e"),a=n.n(r);a.a},"1beb":function(t,e,n){},"1f51":function(t,e,n){},"1f86":function(t,e,n){},2:function(t,e){},2368:function(t,e,n){"use strict";var r=n("aef2"),a=n.n(r);a.a},"285a":function(t,e,n){},"2b19":function(t,e,n){"use strict";var r=n("9dff"),a=n.n(r);a.a},"2b9f":function(t,e,n){},"2e3d":function(t,e,n){"use strict";var r=n("9418"),a=n.n(r);a.a},"2f4e":function(t,e,n){"use strict";var r=n("cb56"),a=n.n(r);a.a},3:function(t,e){},"35a1":function(t,e,n){},"3d68":function(t,e,n){"use strict";var r=n("c060"),a=n.n(r);a.a},4:function(t,e){},4169:function(t,e,n){},"443a":function(t,e,n){"use strict";var r=n("da37"),a=n.n(r);a.a},"4e66":function(t,e,n){"use strict";var r=n("f45c"),a=n.n(r);a.a},"4fd6":function(t,e,n){},5002:function(t,e,n){"use strict";var r=n("b6ce"),a=n.n(r);a.a},"522b":function(t,e,n){"use strict";var r=n("a2a3"),a=n.n(r);a.a},"54d9":function(t,e,n){"use strict";var r=n("ea68"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("8c4f"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("Header"),n("div",{staticClass:"view"},[n("router-view")],1),n("Footer"),n("DevPanel"),n("flash-message",{staticClass:"flashMessage",attrs:{transitionIn:"animated swing"}})],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("div",{staticClass:"footer__warning text_light"},[t._v(" Warning: Demonstration only. Not reviewed for public use. ")]),n("div",{staticClass:"footer__address text_light"},[t._v(" donate: 1HYhi1D8VCv4dRZhbAy1ghKGRv3UU34pb6 ")]),n("a",{staticClass:"footer__source text_light",attrs:{href:"https://github.com/ildarmgt/bitcoin-web-contracts",target:"_blank"}},[t._v(" < Source Code > ")]),n("div",{staticClass:"footer__email text_light"},[t._v(" ildarmgt@gmail.com ")]),n("br"),n("a",{staticClass:"footer__dl text_light",attrs:{href:"./dapp.zip"}},[t._v(" download as zip "),n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M14 2v11h2.51l-4.51 5.01-4.509-5.01h2.509v-11h4zm2-2h-8v11h-5l9 10 9-10h-5v-11zm1 22h-10v2h10v-2z"}})])]),n("br"),n("BitcoinLogo",{staticClass:"footer__logo"})],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo noselect"},[t._v(" ₿ ")])},u=[],d={name:"BitcoinLogo"},h=d,p=(n("2e3d"),n("2877")),f=Object(p["a"])(h,l,u,!1,null,"62af66d7",null),v=f.exports,m={name:"Footer",components:{BitcoinLogo:v}},b=m,g=(n("5cb4"),Object(p["a"])(b,o,c,!1,null,"4b5c9bb7",null)),y=g.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"title",attrs:{to:"/"}},[n("span",{staticClass:"title__bitcoin"},[t._v("Bitcoin")]),t._v(" Smart Contracts ")])},w=[],O={name:"Header"},_=O,x=(n("9734"),Object(p["a"])(_,C,w,!1,null,"22080f20",null)),k=x.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[this.show?n("div",{staticClass:"devpanel"},[t._v(" Dev Panel "),n("div",{staticClass:"devButton",on:{click:t.outlineClicked}},[t._v(" outline ")])]):t._e()])},j=[],S={name:"DevPanel",data:function(){return{show:!1}},created:function(){var t=this;window.addEventListener("keydown",(function(e){"`"===e.key&&(t.show=!t.show)}))},methods:{outlineClicked:function(){var t="outliner",e=document.getElementById(t);if(e)e.disabled=!0,e.parentNode.removeChild(e);else{var n="* {box-shadow: 0 0 0 0.15vmin red;}",r=document.createElement("style");r.type="text/css",r.id="outliner",r.appendChild(document.createTextNode(n)),document.head.appendChild(r)}}}},I=S,T=(n("ccb0"),Object(p["a"])(I,P,j,!1,null,"35ac231e",null)),F=T.exports,B={name:"App",components:{Header:k,Footer:y,DevPanel:F}},V=B,A=(n("196c"),Object(p["a"])(V,s,i,!1,null,"5c7a99e1",null)),E=A.exports,D=n("2f62"),R=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),N=n("c545");function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L=!0,K={pages:[{pageTitle:"Will Timer",valid:!1,usable:!0},{pageTitle:"Owner Key",valid:!1,usable:!0},{pageTitle:"Heir Key",valid:!1,usable:!0},{pageTitle:"Contract",valid:!0,usable:!1}],pageSelected:1,contractValues:{daysDelay:"1",ownerPrivateKeyWIF:"",heirPrivateKeyWIF:"",networkChoice:"bitcoin",addressType:"p2wsh"}},X={getPageSelectedIC:function(t){return t.pageSelected},getContractValuesIC:function(t){return t.contractValues},getPagesInfoIC:function(t){return t.pages},getDelayIC:function(t){return t.contractValues.daysDelay}},W={initializeIC:function(t){var e=t.commit,n=t.state,r=t.dispatch;if(!n.contractValues.ownerPrivateKeyWIF||!n.contractValues.heirPrivateKeyWIF){var a=Object(N["d"])(n.contractValues.networkChoice),s=Object(N["d"])(n.contractValues.networkChoice);e("setContractValues",{ownerPrivateKeyWIF:a,heirPrivateKeyWIF:s}),r("updatePageStatusIC")}},updateKeysIfInvalid:function(t){var e=t.commit,n=t.state,r=t.dispatch,a=Object(N["c"])({wif:n.contractValues.ownerPrivateKeyWIF,networkChoice:n.contractValues.networkChoice}),s=Object(N["c"])({wif:n.contractValues.heirPrivateKeyWIF,networkChoice:n.contractValues.networkChoice});if(!a){var i=Object(N["d"])(n.contractValues.networkChoice);e("setContractValues",{ownerPrivateKeyWIF:i})}if(!s){var o=Object(N["d"])(n.contractValues.networkChoice);e("setContractValues",{heirPrivateKeyWIF:o})}r("updatePageStatusIC")},updatePageStatusIC:function(t){var e=t.commit,n=t.state,r=n.contractValues.networkChoice,a=n.contractValues.daysDelay<=388,s=Object(N["c"])({wif:n.contractValues.ownerPrivateKeyWIF,networkChoice:r}),i=Object(N["c"])({wif:n.contractValues.heirPrivateKeyWIF,networkChoice:r});e("setPageStatus",{pageNumber:1,valid:a,usable:!0}),e("setPageStatus",{pageNumber:2,valid:s,usable:!0}),e("setPageStatus",{pageNumber:3,valid:i,usable:!0}),e("setPageStatus",a&&s&&i?{pageNumber:4,valid:!0,usable:!0}:{pageNumber:4,valid:!1,usable:!1})},changePageIC:function(t,e){var n=t.commit,r=t.state,a=r.pages[e-1];a&&a.usable&&n("setPage",e)},updateContractValuesIC:function(t,e){var n=t.commit,r=t.dispatch;n("setContractValues",e),r("updatePageStatusIC")}},q={setPageStatus:function(t,e){var n=e.pageNumber,r=e.valid,a=e.usable;t.pages[n-1].valid=r,t.pages[n-1].usable=a},setPage:function(t,e){t.pageSelected=0,t.pageSelected=e},setContractValues:function(t,e){t.contractValues=H({},t.contractValues,{},e)}},$={namespaced:L,state:K,getters:X,actions:W,mutations:q};n("b680"),n("acd8"),n("1276");function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G=!0,Y={pages:[{pageTitle:"Input backup",valid:!0,usable:!0},{pageTitle:"From where",valid:!0,usable:!1},{pageTitle:"To where",valid:!0,usable:!1},{pageTitle:"Transaction",valid:!0,usable:!1}],file:void 0,pageSelected:1,contractValues:{ownerPrivateKeyWIF:"",address:"",scriptHex:"",networkChoice:"",addressType:"",daysLocked:"",selectedUTXO:{},sumOfUTXO:"",spending:!0,change:!0,showForm:!1,toAddress:"",toAmount:"21000000",feeRate:"1.000",changeAddress:"",feeAmount:"0",changeAmount:"0",vSize:100,tx:""},issues:{}},J={getPageSelected:function(t){return t.pageSelected},getFile:function(t){return t.file},getContractValues:function(t){return t.contractValues},getPagesInfo:function(t){return t.pages},getIssues:function(t){return t.issues}},Z={setFile:function(t,e){t.file=e},setPageStatus:function(t,e){var n=e.pageNumber,r=e.valid,a=e.usable;t.pages[n-1].valid=r,t.pages[n-1].usable=a},setPage:function(t,e){t.pageSelected=0,t.pageSelected=e},setContractValues:function(t,e){t.contractValues=z({},t.contractValues,{},e)},setIssues:function(t,e){t.issues=z({},t.issues,{},e)}},Q={changeContractValues:function(t,e){var n=t.commit,r=t.dispatch,a=t.state;n("setContractValues",e),r("deriveSpendingInfo"),r("deriveFromLastData"),n("setContractValues",{tx:Object(N["e"])(a.contractValues)}),r("deriveFromLastData"),n("setContractValues",{tx:Object(N["e"])(a.contractValues)}),r("updateStatus")},deriveSpendingInfo:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=Object.keys(r.selectedUTXO).reduce((function(t,e){return t+(parseFloat(r.selectedUTXO[e])||0)}),0).toFixed(8);e("setContractValues",{sumOfUTXO:a});var s=r.address;e("setContractValues",{changeAddress:s}),r.spending||e("setContractValues",{toAmount:"0",change:!0})},deriveFromLastData:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=r.tx,s=a?a.virtualSize():r.vSize,i=Math.ceil(s*parseFloat(r.feeRate)+1e-8),o=Math.floor(1e8*parseFloat(r.sumOfUTXO)),c=Math.floor(1e8*parseFloat(r.toAmount)),l=Math.floor(o-i-c);(l<=0||!r.change||c<0)&&(c=Math.floor(c+l),l=0),e("setContractValues",{vSize:s,feeAmount:(1e-8*i).toFixed(8),toAmount:(1e-8*c).toFixed(8),changeAmount:(1e-8*l).toFixed(8),change:0!==l})},changeFile:function(t,e){var n=t.commit;n("setFile",e)},updateStatus:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=Object(N["g"])(r.ownerPrivateKeyWIF);e("setIssues",{ownerPrivateKeyWIF:!a,ownerPrivateKeyWIFInfo:a});var s=Object(N["f"])(r.address);e("setIssues",{address:!s,addressInfo:s});var i=a===s;e("setIssues",{addressNetwork:!i}),e("setContractValues",{networkChoice:i&&a?a:""});var o,c=r.address;"3"===c.substring(0,1)&&(o="p2sh"),"2"===c.substring(0,1)&&(o="p2sh"),"bc"===c.substring(0,2)&&(o="p2wsh"),"tb"===c.substring(0,2)&&(o="p2wsh"),e("setContractValues",{addressType:o});var l=!!r.relativeLockTime;e("setIssues",{relativeLockTime:!l});var u=!!r.scriptHex;e("setIssues",{scriptHex:!u});var d=a&&s&&i&&l&&u,h=r.sumOfUTXO>0,p=Object.keys(r.selectedUTXO).reduce((function(t,e){var n=e.split("-")[0],r=e.split("-")[1],a=!!n.length,s=!!r.length,i=!!e.length;return t&&a&&s&&i}),!0),f=p&&h,v=!!r.toAddress.length,m=!!r.changeAmount,b=!!r.feeRate,g=parseFloat(r.toAmount)>0,y=parseFloat(r.changeAmount)>0,C=parseFloat(r.feeRate)>=1,w=!!r.tx,O=Object(N["f"])(r.toAddress),_=O===r.networkChoice,x=(v&&O||!r.spending)&&(m||!r.change)&&b&&(g||y)&&C&&w;e("setIssues",{page3:z({},!v&&r.spending?{isToAddressDone:"Address can't be blank"}:{},{},v&&!_&&r.spending?{isNetworkMatch:"Address appears invalid for "+r.networkChoice}:{},{},C?{}:{isFeeRateEnough:"Fee must be > 1 sat/vByte to be relayed by most nodes."},{},!r.spending||g||y?{}:{enoughForFee:"Need Amount > 0. Insufficient funds after fee."},{},r.spending&&!g&&y?{isToAmountEnough:"Need Amount > 0. Maybe you want to only reset timer?"}:{})}),e("setPageStatus",{pageNumber:1,valid:d,usable:!0}),e("setPageStatus",{pageNumber:2,valid:f,usable:d}),e("setPageStatus",{pageNumber:3,valid:x,usable:f}),e("setPageStatus",{pageNumber:4,valid:!0,usable:x})},changePage:function(t,e){var n=t.commit,r=t.state,a=r.pages[e-1];a&&a.usable&&n("setPage",e)}},tt={namespaced:G,state:Y,getters:J,actions:Q,mutations:Z};function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt=!0,at={pages:[{pageTitle:"Input backup",valid:!0,usable:!0},{pageTitle:"From where",valid:!0,usable:!1},{pageTitle:"To where",valid:!0,usable:!1},{pageTitle:"Transaction",valid:!0,usable:!1}],file:void 0,pageSelected:1,contractValues:{heirPrivateKeyWIF:"",address:"",scriptHex:"",networkChoice:"",addressType:"",daysLocked:"",relativeLockTime:"",selectedUTXO:{},sumOfUTXO:"",toAddress:"",feeRate:"1.000",toAmount:"21000000",feeAmount:"0",vSize:100,tx:""},issues:{}},st={getPageSelected:function(t){return t.pageSelected},getFile:function(t){return t.file},getContractValues:function(t){return t.contractValues},getPagesInfo:function(t){return t.pages},getIssues:function(t){return t.issues}},it={setFile:function(t,e){t.file=e},setPageStatus:function(t,e){var n=e.pageNumber,r=e.valid,a=e.usable;t.pages[n-1].valid=r,t.pages[n-1].usable=a},setPage:function(t,e){t.pageSelected=0,t.pageSelected=e},setContractValues:function(t,e){t.contractValues=nt({},t.contractValues,{},e)},setIssues:function(t,e){t.issues=nt({},t.issues,{},e)}},ot={changeContractValues:function(t,e){var n=t.commit,r=t.dispatch,a=t.state;n("setContractValues",e),r("deriveSpendingInfo"),r("deriveFromLastData"),n("setContractValues",{tx:Object(N["a"])(a.contractValues)}),r("deriveFromLastData"),n("setContractValues",{tx:Object(N["a"])(a.contractValues)}),r("updateStatus")},deriveSpendingInfo:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=Object.keys(r.selectedUTXO).reduce((function(t,e){return t+(parseFloat(r.selectedUTXO[e])||0)}),0).toFixed(8);e("setContractValues",{sumOfUTXO:a})},deriveFromLastData:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=r.tx,s=a?a.virtualSize():r.vSize,i=Math.ceil(s*parseFloat(r.feeRate)+1e-8),o=Math.floor(1e8*parseFloat(r.sumOfUTXO)),c=Math.floor(o-i);e("setContractValues",{vSize:s,feeAmount:(1e-8*i).toFixed(8),toAmount:(1e-8*c).toFixed(8)})},changeFile:function(t,e){var n=t.commit;n("setFile",e)},updateStatus:function(t){var e=t.commit,n=t.state,r=n.contractValues,a=Object(N["g"])(r.heirPrivateKeyWIF);e("setIssues",{heirPrivateKeyWIF:!a,heirPrivateKeyWIFInfo:a});var s=Object(N["f"])(r.address);e("setIssues",{address:!s,addressInfo:s});var i=a===s;e("setIssues",{addressNetwork:!i}),e("setContractValues",{networkChoice:i&&a?a:""});var o,c=r.address;"3"===c.substring(0,1)&&(o="p2sh"),"2"===c.substring(0,1)&&(o="p2sh"),"bc"===c.substring(0,2)&&(o="p2wsh"),"tb"===c.substring(0,2)&&(o="p2wsh"),e("setContractValues",{addressType:o});var l=!!r.relativeLockTime;e("setIssues",{relativeLockTime:!l});var u=!!r.scriptHex;e("setIssues",{scriptHex:!u});var d=a&&s&&i&&l&&u,h=r.sumOfUTXO>0,p=Object.keys(r.selectedUTXO).reduce((function(t,e){var n=e.split("-")[0],r=e.split("-")[1],a=!!n.length,s=!!r.length,i=!!e.length;return t&&a&&s&&i}),!0),f=p&&h,v=!!r.toAddress.length,m=!!r.feeRate,b=parseFloat(r.toAmount)>0,g=parseFloat(r.feeRate)>=1,y=!!r.tx,C=Object(N["f"])(r.toAddress),w=C===r.networkChoice,O=v&&w&&m&&b&&g&&y;e("setIssues",{page3:nt({},v?{}:{isToAddressDone:"Address can't be blank"},{},v&&!w?{isNetworkMatch:"Address appears invalid for "+r.networkChoice}:{},{},g?{}:{isFeeRateEnough:"Fee must be > 1 sat/vByte to be relayed by most nodes."},{},b?{}:{enoughForFee:"Need Amount > 0. Insufficient funds after fee."})}),e("setPageStatus",{pageNumber:1,valid:d,usable:!0}),e("setPageStatus",{pageNumber:2,valid:f,usable:d}),e("setPageStatus",{pageNumber:3,valid:O,usable:f}),e("setPageStatus",{pageNumber:4,valid:!0,usable:O})},changePage:function(t,e){var n=t.commit,r=t.state,a=r.pages[e-1];a&&a.usable&&n("setPage",e)}},ct={namespaced:rt,state:at,getters:st,actions:ot,mutations:it};r["a"].use(D["a"]);var lt=new D["a"].Store({modules:{inheritanceCreate:$,inheritanceOwner:tt,inheritanceHeir:ct}}),ut=n("d00d"),dt=n.n(ut),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v(" My Decentralized Applications (dApps): ")]),n("div",{staticClass:"view"},[n("DappList")],1)])},pt=[],ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{staticClass:"button",attrs:{to:"/inheritance"}},[t._v(" Inheritance dApp ")])],1)},vt=[],mt={name:"DappList"},bt=mt,gt=Object(p["a"])(bt,ft,vt,!1,null,null,null),yt=gt.exports,Ct={name:"IntroPage",components:{DappList:yt}},wt=Ct,Ot=(n("c56d"),Object(p["a"])(wt,ht,pt,!1,null,"99867e86",null)),_t=Ot.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance"},[n("InheritanceIntro"),n("InheritanceNav")],1)},kt=[],Pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},jt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance__intro"},[n("h1",[t._v("Inheritance Contract dApp")]),n("div",{staticClass:"description"},[n("div",{staticClass:"contractTitle"},[t._v(" A digital will based on inactivity time and enforced by the Bitcoin network: ")]),n("ul",[n("li",[t._v(" The key of party "),n("span",{staticClass:"key_blue"},[t._v('"Owner"')]),t._v(" can access the funds at any time. ")]),n("li",[t._v(" The key of party "),n("span",{staticClass:"key_green"},[t._v('"Heir"')]),t._v(" is allowed access to the funds only if the funds don't move for a specified length of time. ")])]),n("span",{staticClass:"text_light example"},[t._v(' Example: I will spend Bitcoin using my "Owner" key, moving them at least once a year to a new contract. But if something happens to me and I don\'t move them within 1 year, my sister can then also spend the funds with just her "Heir" key. ')])])])}],St={name:"InheritanceIntro"},It=St,Tt=(n("f759"),Object(p["a"])(It,Pt,jt,!1,null,"48f3793e",null)),Ft=Tt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance_nav"},[n("SelectionButton",{attrs:{color:"var(--bitcoin-orange, orange)",meaning:"create",buttonText:"Create contract",meaningSelected:t.lastSelection},on:{selectionChoice:t.onButtonSelect}}),n("SelectionButton",{attrs:{color:"var(--color-owner-solid, rgb(102, 102, 255))",meaning:"owner",buttonText:"Spend as Owner",meaningSelected:t.lastSelection},on:{selectionChoice:t.onButtonSelect}}),n("SelectionButton",{attrs:{color:"var(--color-heir, rgba(0, 134, 0, 0.6))",meaning:"heir",buttonText:"Spend as Heir",meaningSelected:t.lastSelection},on:{selectionChoice:t.onButtonSelect}}),n("Expander",[t.isSelected("create")?n("InheritanceCreate"):t._e(),t.isSelected("owner")?n("InheritanceOwner"):t._e(),t.isSelected("heir")?n("InheritanceHeir"):t._e()],1)],1)},Vt=[],At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selectionButton",style:t.determineStyle,on:{click:t.onButtonClick}},[n("div",{staticClass:"darken"},[t._v(" "+t._s(t.buttonText)+" ")])])},Et=[],Dt={name:"SelectionButton",props:{color:{type:String,default:""},buttonText:{type:String,default:"OK"},meaning:{type:String,default:"OK"},meaningSelected:{type:String,default:""}},computed:{determineStyle:function(){return this.meaning===this.meaningSelected?{"background-color":"var(--bitcoin-blue, rgb(17, 17, 51))"}:{"background-color":this.color}}},methods:{onButtonClick:function(){window.scrollTo(0,0),this.meaning===this.meaningSelected?this.$emit("selectionChoice",""):this.$emit("selectionChoice",this.meaning)}}},Rt=Dt,Nt=(n("1496"),Object(p["a"])(Rt,At,Et,!1,null,"0824db00",null)),Ut=Nt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance_create fa"},[n("InheritanceCreateMenu"),n("Stepper",{attrs:{stepperName:"Create Contract",pageWanted:t.getPageSelectedIC,pageInfo:t.getPagesInfoIC,primaryColor:{"--primaryColor":"var(--bitcoin-orange, orange)"}},on:{newPageClicked:t.stepperPageChangeRequested}},[n("StepperStep",{attrs:{pageTitle:t.getPagesInfoIC[0].pageTitle}},[n("InheritanceCreateStep1")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfoIC[1].pageTitle}},[n("InheritanceCreateStep2")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfoIC[2].pageTitle}},[n("InheritanceCreateStep3")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfoIC[3].pageTitle}},[n("InheritanceCreateStep4")],1)],1)],1)},Lt=[],Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m",on:{click:t.menuClicked,mouseenter:t.menuClicked,mouseleave:t.leftMenu}},[n("div",{staticClass:"btnMenu"},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19 18c0 1.104-.896 2-2 2s-2-.896-2-2 .896-2 2-2 2 .896 2 2zm-14-3c-1.654 0-3 1.346-3 3s1.346 3 3 3h14c1.654 0 3-1.346 3-3s-1.346-3-3-3h-14zm19 3c0 2.761-2.239 5-5 5h-14c-2.761 0-5-2.239-5-5s2.239-5 5-5h14c2.761 0 5 2.239 5 5zm0-12c0 2.761-2.239 5-5 5h-14c-2.761 0-5-2.239-5-5s2.239-5 5-5h14c2.761 0 5 2.239 5 5zm-15 0c0-1.104-.896-2-2-2s-2 .896-2 2 .896 2 2 2 2-.896 2-2z"}})])]),t.showMenu?n("div",{staticClass:"m__wrap"},[n("div",{staticClass:"m__wrap__list"},[n("div",[n("span",{staticClass:"m__wrap__list__choice",class:{selected:"p2wsh"==this.addressType},on:{click:function(e){return t.clicked("p2wsh")}}},[t._v("p2wsh")]),t._v(" or "),n("span",{staticClass:"m__wrap__list__choice",class:{selected:"p2sh"==this.addressType},on:{click:function(e){return t.clicked("p2sh")}}},[t._v("p2sh (legacy)")])]),n("div",[n("span",{staticClass:"m__wrap__list__choice",class:{selected:"bitcoin"==this.networkChoice},on:{click:function(e){return t.clicked("bitcoin")}}},[t._v("mainnet")]),t._v(" or "),n("span",{staticClass:"m__wrap__list__choice",class:{selected:"testnet"==this.networkChoice},on:{click:function(e){return t.clicked("testnet")}}},[t._v("testnet")])])])]):t._e()])},Xt=[];function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $t={name:"InheritanceCreateMenu",data:function(){return{showMenu:!1,addressType:"",networkChoice:""}},computed:qt({},Object(D["c"])("inheritanceCreate",["getContractValuesIC"])),methods:qt({},Object(D["b"])("inheritanceCreate",["updateContractValuesIC","changePageIC","updateKeysIfInvalid"]),{menuClicked:function(){var t=this.getContractValuesIC;this.addressType=t.addressType,this.networkChoice=t.networkChoice,this.showMenu=!0},leftMenu:function(){this.showMenu=!1},clicked:function(t){switch(t){case"p2sh":this.addressType="p2sh";break;case"p2wsh":this.addressType="p2wsh";break;case"bitcoin":this.networkChoice="bitcoin";break;case"testnet":this.networkChoice="testnet";break}var e={networkChoice:this.networkChoice,addressType:this.addressType};this.updateContractValuesIC(e),this.updateKeysIfInvalid(),this.changePageIC(1)}})},Mt=$t,zt=(n("656c"),Object(p["a"])(Mt,Kt,Xt,!1,null,"678837d7",null)),Gt=zt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav",style:t.primaryColor},[n("div",{staticClass:"nav__name"},[t._v(" "+t._s(t.stepperName)+" ")]),n("div",{staticClass:"nav__view"},[t._t("default")],2),n("div",{staticClass:"nav__steps"},t._l(t.titles(),(function(e,r){return n("div",{key:e,staticClass:"nav__steps__step",class:t.setNavClasses(e,r).step,on:{click:function(n){return t.stepClicked(e,r+1)}}},[n("div",{staticClass:"nav__steps__step__number noselect",class:t.setNavClasses(e,r).stepNumber},[t._v(" "+t._s(r+1)+" ")]),n("div",{staticClass:"nav__steps__step__title noselect",class:t.setNavClasses(e,r).stepTitle},[t._v(" "+t._s(e)+" ")])])})),0)])},Jt=[],Zt=(n("99af"),n("a9e3"),n("2909"));function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ee={name:"Stepper",data:function(){return{lastSelection:"none",pageList:[],color:""}},props:{stepperName:{type:String,default:""},pageWanted:{type:Number,default:0},pageInfo:{type:Array,default:function(){return[]}},primaryColor:{type:Object,default:function(){return{}}}},methods:{titles:function(){var t=this.$slots.default.reduce((function(t,e){return[].concat(Object(Zt["a"])(t),[e.data.attrs.pageTitle])}),[]);return this.lastSelection=this.pageWanted?t[this.pageWanted-1]:t[0],this.pageList=t,t},stepClicked:function(t,e){this.$emit("newPageClicked",e),this.lastSelection=t},setNavClasses:function(t,e){var n={step:[],stepNumber:[],stepTitle:[]};return this.pageInfo[e].valid||(n=te({},n,{stepNumber:["stepNumberInvalid"],stepTitle:["stepTitleInvalid"]})),this.pageInfo[e].usable||(n=te({},n,{step:["stepLocked"],stepNumber:["stepNumberLocked"],stepTitle:["stepTitleLocked"]})),this.lastSelection===t&&(n=te({},n,{stepNumber:["stepNumberSelected"],stepTitle:["stepTitleSelected"]})),n}}},ne=ee,re=(n("b224"),Object(p["a"])(ne,Yt,Jt,!1,null,"6cf1d2a6",null)),ae=re.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isStepSelected()?n("div",{staticClass:"StepperStep"},[t._t("default")],2):t._e()},ie=[],oe={name:"StepperStep",methods:{isStepSelected:function(){var t=this.$attrs.pageTitle,e=this.$parent.lastSelection,n=t===e;return n}}},ce=oe,le=Object(p["a"])(ce,se,ie,!1,null,"26c19205",null),ue=le.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q"},[t._m(0),n("div",{staticClass:"q__time"},[n("input",{ref:"q__time__input",staticClass:"q__time__input",attrs:{type:"text",maxlength:"5"},domProps:{value:t.timeValue},on:{input:t.numberChanged,change:t.refreshNumber}}),n("div",{staticClass:"q__time__label"},[t._v(" days ")])]),t._m(1),n("ArrowButton",{attrs:{textContent:"Complete with random keys",textColor:"var(--bitcoin-orange, orange)"},on:{click:t.onDoneButtonClick}}),n("ArrowButton",{attrs:{textContent:"Edit keys...",textColor:"var(--bitcoin-orange, orange)"},on:{click:t.onNextButtonClick}})],1)])},he=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__strong"},[t._v(" How long until inheritance can be spent by the "),n("span",{staticClass:"heir"},[t._v("Heir")]),t._v(" ? ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__light"},[t._v(" To be measured from moment funding is confirmed."),n("br"),t._v(" Value of up to 388 days. ")])}],pe=(n("a15b"),n("d3b7"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ArrowButton noselect",style:{color:t.textColor},on:{click:function(e){return t.$emit("click")}}},[t._v(" "+t._s(t.textContent)+" ")])}),fe=[],ve={name:"ArrowButton",props:{textColor:{type:String,default:""},textContent:{type:String,default:""}}},me=ve,be=(n("2b19"),Object(p["a"])(me,pe,fe,!1,null,"59d08517",null)),ge=be.exports;function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var we={name:"InheritanceCreateStep1",components:{ArrowButton:ge},data:function(){return{timeValue:"365",lastTimer:null}},mounted:function(){this.timeValue=this.getDelayIC},computed:Ce({},Object(D["c"])("inheritanceCreate",["getDelayIC"])),methods:Ce({},Object(D["b"])("inheritanceCreate",["updatePageStatusIC","changePageIC","updateContractValuesIC"]),{numberChanged:function(t){var e=this,n=t.target.value,r="0123456789.",a=n.split("").filter((function(t){return r.indexOf(t)>-1})).join(""),s=parseFloat(a)>388?"388":a;this.$refs.q__time__input.value=this.timeValue=s,clearTimeout(this.lastTimer),this.lastTimer=setTimeout((function(){e.refreshNumber()}),3e3)},refreshNumber:function(){var t=this.timeValue;0!==parseFloat(t)&&!isNaN(t)&&t||(t=this.getDelayIC),t=parseFloat(t).toString();try{this.$refs.q__time__input.value=t}catch(e){}this.updateContractValuesIC({daysDelay:t})},onNextButtonClick:function(){this.refreshNumber(),this.changePageIC(2)},onDoneButtonClick:function(){this.refreshNumber(),this.changePageIC(4)}})},Oe=we,_e=(n("0a22"),Object(p["a"])(Oe,de,he,!1,null,"6b83cc48",null)),xe=_e.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q"},[t._m(0),n("div",{staticClass:"q__key"},[n("textarea",{ref:"q__key__input",staticClass:"q__key__input",attrs:{rows:"1",spellcheck:"false"},domProps:{value:t.key},on:{input:t.updateKey}}),t._v(" "),n("div",{staticClass:"q__key__btns"},[n("RoundButton",{staticClass:"q__key__btns__new",attrs:{textColor:"var(--background, white)",textContent:"new"},on:{click:t.newKeyRequested}}),t.getPagesInfoIC[1].valid?t._e():n("div",{staticClass:"q__key__btns__warn"},[t._v(" invalid key ")])],1)]),t._m(1),n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--bitcoin-orange, orange)"},on:{click:t.onNextButtonClick}})],1)])},Pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__strong"},[t._v(" What is the "),n("span",{staticClass:"owner"},[t._v("Owner")]),t._v("'s private key? ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__light"},[t._v(" Generated a random key. "),n("br"),t._v(" Press next or provide your own in WIF format. "),n("a",{staticClass:"q__light_link",attrs:{target:"_blank",href:"https://en.bitcoin.it/wiki/Wallet_import_format",title:"Bitcoin Wiki"}},[t._v("?")])])}],je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"RoundButton noselect",class:{pushedIn:t.isPushedIn},style:{color:t.textColor,"border-color":t.textColor},on:{click:function(e){return t.$emit("click")}}},[t._v(" "+t._s(t.textContent)+" ")])},Se=[],Ie={name:"RoundButton",components:{},data:function(){return{}},props:{textColor:{type:String,default:""},textContent:{type:String,default:""},isPushedIn:{type:Boolean,default:!1}},computed:{},mounted:function(){},methods:{}},Te=Ie,Fe=(n("b1b1"),Object(p["a"])(Te,je,Se,!1,null,"22959b8a",null)),Be=Fe.exports;function Ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ee={name:"InheritanceCreateStep2",data:function(){return{key:""}},components:{RoundButton:Be,ArrowButton:ge},mounted:function(){var t=this.getContractValuesIC.ownerPrivateKeyWIF;this.key=t},computed:Ae({},Object(D["c"])("inheritanceCreate",["getContractValuesIC","getPagesInfoIC"])),methods:Ae({},Object(D["b"])("inheritanceCreate",["changePageIC","updateContractValuesIC"]),{newKey:function(){return Object(N["d"])(this.getContractValuesIC.networkChoice)},newKeyRequested:function(){var t=this.newKey();this.updateContractValuesIC({ownerPrivateKeyWIF:t}),this.key=t},onNextButtonClick:function(){this.changePageIC(3)},updateKey:function(t){var e=t.target.value,n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=e.split("").filter((function(t){return n.indexOf(t)>-1})).join("");this.updateContractValuesIC({ownerPrivateKeyWIF:r}),t.target.value=r,this.key=r}})},De=Ee,Re=(n("4e66"),Object(p["a"])(De,ke,Pe,!1,null,"05227c90",null)),Ne=Re.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q"},[t._m(0),n("div",{staticClass:"q__key"},[n("textarea",{ref:"q__key__input",staticClass:"q__key__input",attrs:{rows:"1",spellcheck:"false"},domProps:{value:t.key},on:{input:t.updateKey}}),t._v(" "),n("div",{staticClass:"q__key__btns"},[n("RoundButton",{staticClass:"q__key__btns__new",attrs:{textColor:"var(--background, white)",textContent:"new"},on:{click:t.newKeyRequested}}),t.getPagesInfoIC[2].valid?t._e():n("div",{staticClass:"q__key__btns__warn"},[t._v(" invalid key ")])],1)]),t._m(1),n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--bitcoin-orange, orange)"},on:{click:t.onNextButtonClick}})],1)])},He=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__strong"},[t._v(" And what is the "),n("span",{staticClass:"heir"},[t._v("Heir")]),t._v("'s private key? ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__light"},[t._v(" Generated a random key. "),n("br"),t._v(" Press next or provide your own in WIF format. "),n("a",{staticClass:"q__light_link",attrs:{target:"_blank",href:"https://en.bitcoin.it/wiki/Wallet_import_format",title:"Bitcoin Wiki"}},[t._v("?")])])}];function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xe={name:"InheritanceCreateStep3",data:function(){return{key:""}},components:{RoundButton:Be,ArrowButton:ge},mounted:function(){var t=this.getContractValuesIC.heirPrivateKeyWIF;this.key=t},computed:Ke({},Object(D["c"])("inheritanceCreate",["getContractValuesIC","getPagesInfoIC"])),methods:Ke({},Object(D["b"])("inheritanceCreate",["changePageIC","updateContractValuesIC"]),{newKey:function(){return Object(N["d"])(this.getContractValuesIC.networkChoice)},newKeyRequested:function(){var t=this.newKey();this.updateContractValuesIC({heirPrivateKeyWIF:t}),this.key=t},onNextButtonClick:function(){this.changePageIC(4)},updateKey:function(t){var e=t.target.value,n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",r=e.split("").filter((function(t){return n.indexOf(t)>-1})).join("");this.updateContractValuesIC({heirPrivateKeyWIF:r}),t.target.value=r,this.key=r}})},We=Xe,qe=(n("3d68"),Object(p["a"])(We,Ue,He,!1,null,"01d5d856",null)),$e=qe.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q noselect"},[n("div",{staticClass:"q__lbl1 noselect"},[t._v(" Backup the access data first! ")]),t._m(0),n("div",{staticClass:"q__backup noselect"},[n("a",{ref:"backupOwner",staticClass:"q__backup__link noselect"},[t._v(" save ")]),t._v(" or "),n("div",{staticClass:"q__backup__link noselect",on:{click:function(e){return t.copyBackupClicked(!0)}}},[t._v(" copy ")])]),n("br"),t._m(1),n("div",{staticClass:"q__backup noselect"},[n("a",{ref:"backupHeir",staticClass:"q__backup__link noselect"},[t._v(" save ")]),t._v(" or "),n("div",{staticClass:"q__backup__link noselect",on:{click:function(e){return t.copyBackupClicked(!1)}}},[t._v(" copy ")])]),t._m(2),n("br"),t.showRest?t._e():n("ArrowButton",{staticClass:"btnShow",attrs:{textContent:"Backup done. Show contract!",textColor:"var(--bitcoin-orange, orange)"},on:{click:t.showClicked}}),t.showRest?n("div",{staticClass:"q__contract noselect"},[n("img",{ref:"q__contract__qr",staticClass:"q__contract__qr"}),n("div",{staticClass:"q__contract__text"},[n("div",{staticClass:"q__contract__lbl2"},[t._v(" Sending to this address starts timer: ")]),n("a",{staticClass:"q__contract__addy",attrs:{href:"bitcoin:"+this.address,target:"_blank"}},[t._v(" "+t._s(t.address)+" ")]),n("div",{staticClass:"btnCopy",on:{click:t.btnCopyAddressClicked}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M22 6v16h-16v-16h16zm2-2h-20v20h20v-20zm-24 17v-21h21v2h-19v19h-2z"}})])]),n("a",{directives:[{name:"show",rawName:"v-show",value:t.showFaucet,expression:"showFaucet"}],staticClass:"faucet",attrs:{href:"https://bitcoinfaucet.uo1.net/",target:"_blank"}},[t._v(" Testnet-only faucet for free coins ")])])]):t._e(),n("br"),n("Details",{staticClass:"detailsEncryption",attrs:{buttonText:"Encrypt the backup? (Optional)",showAtStart:!1}},[n("div",{staticClass:"q__lbl2 noselect"},[t._v(" An additional secret password can be used to hide (encrypt) the information inside the backup."),n("br"),n("br"),t._v(" Please note that without knowing this secret password the backup is useless and all access and funds are equivalent to lost."),n("br"),n("br"),n("textarea",{staticClass:"txtKey",attrs:{rows:"1",spellcheck:"false",placeholder:"no password used (blank)"},domProps:{value:t.cryptoKey},on:{input:t.updateEncryption}})])]),n("Details",{staticClass:"detailsPlaintext",attrs:{buttonText:"Details",showAtStart:!1}},[n("pre",[t._v(t._s(t.backupDataOwner))])])],1)])},ze=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__lblWho noselect"},[t._v(" for "),n("span",{staticClass:"owner"},[t._v("Owner")]),t._v(" : ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__lblWho noselect"},[t._v(" for "),n("span",{staticClass:"heir"},[t._v("Heir")]),t._v(" : ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q__note1 noselect"},[t._v(" Keep backup private! Lose it, lose access!"),n("br"),t._v(" Give Heir their backup. It doesn't have your key."),n("br")])}],Ge=n("4b99"),Ye=n.n(Ge);function Je(t){var e=document.createElement("input");e.setAttribute("value",t),document.body.appendChild(e),e.select();var n=document.execCommand("copy");return document.body.removeChild(e),n}var Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper noselect",style:t.cssVars},[n("div",{staticClass:"btnExpand",on:{click:t.onClickExpand}},[t._v(" "+t._s(t.buttonText)+" "),n("div",{staticClass:"arrow",class:{down:t.showDetails}})]),n("div"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetails,expression:"(showDetails)"}],staticClass:"divDetails"},[t._t("default")],2)])},Qe=[],tn={name:"Details",components:{},data:function(){return{showDetails:!1}},props:{buttonText:{type:String,default:"See details"},showAtStart:{type:Boolean,default:!1},opacity:{type:Number,default:.7},alignment:{type:String,default:"right"}},computed:{cssVars:function(){return{"--opacity":this.opacity,"--alignment":this.alignment}}},mounted:function(){this.showDetails=this.showAtStart},methods:{onClickExpand:function(){this.showDetails=!this.showDetails}}},en=tn,nn=(n("ad98"),Object(p["a"])(en,Ze,Qe,!1,null,"24196d80",null)),rn=nn.exports;n("c975");function an(t,e){var n;if("base58"===e)n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";else if("hex"===e)n="0123456789abcdef";else if("basic"===e)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";else if("numbers"===e)n="0123456789";else if("fractions"===e)n="0123456789.";else{if("oneline"!==e)return void console.log("sanitize: valid type not provided");n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ."}var r=t.split("").filter((function(t){return n.indexOf(t)>-1})).join("");return r}var sn=n("a2e5"),on=n.n(sn);function cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var un={name:"InheritanceCreateStep4",components:{ArrowButton:ge,Details:rn},data:function(){return{address:"",showRest:!1,contract:{},showFaucet:!1,cryptoKey:"",backupDataOwner:""}},mounted:function(){this.redoPageContent()},updated:function(){this.redoPageContent()},computed:ln({},Object(D["c"])("inheritanceCreate",["getContractValuesIC"])),methods:{redoPageContent:function(){try{var t=this.calculateContract();this.updateBackup(t),this.address=t.address,this.contract=t,this.updateQR(this.address)}catch(e){console.error(e)}},calculateContract:function(){var t=this.getContractValuesIC,e={days:t.daysDelay,ownerPrivateKeyWIF:t.ownerPrivateKeyWIF,heirPrivateKeyWIF:t.heirPrivateKeyWIF,networkChoice:t.networkChoice,addressType:t.addressType},n=Object(N["b"])(e);return n},updateBackup:function(t){var e=t,n=JSON.stringify(e,null,2);this.backupDataOwner=n;var r=on.a.encrypt(this.cryptoKey,n),a=encodeURIComponent(r),s=this.$refs.backupOwner;s.href="data:text/json;charset=utf-8,"+a,s.download="Inhertiance Owner Backup.txt";var i=ln({},e,{ownerPrivateKeyWIF:""}),o=JSON.stringify(i,null,2),c=on.a.encrypt(this.cryptoKey,o),l=encodeURIComponent(c),u=this.$refs.backupHeir;u.href="data:text/json;charset=utf-8,"+l,u.download="Inhertiance Heir Backup.txt"},updateQR:function(t){if(this.$refs.q__contract__qr){var e=Ye.a.imageSync(t).toString("base64");this.$refs.q__contract__qr.src="data:image/png;base64,"+e}},showClicked:function(){this.showRest=!0,this.showFaucet="testnet"===this.getContractValuesIC.networkChoice,console.log(this.getContractValuesIC.networkChoice)},btnCopyAddressClicked:function(){Je(this.address)&&this.flash("Address copied to clipboard!","success",{timeout:3e3,important:!0})},copyBackupClicked:function(t){var e=t?this.contract:ln({},this.contract,{ownerPrivateKeyWIF:""}),n=on.a.encrypt(this.cryptoKey,JSON.stringify(e,null,2));Je(n)&&this.flash("Contract info copied to clipboard!","success",{timeout:3e3,important:!0})},updateEncryption:function(t){var e=an(t.target.value,"oneline");t.target.value=e,this.cryptoKey=e}}},dn=un,hn=(n("ed63"),Object(p["a"])(dn,Me,ze,!1,null,"426707fa",null)),pn=hn.exports;function fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mn={name:"InheritanceCreate",components:{Stepper:ae,StepperStep:ue,InheritanceCreateStep1:xe,InheritanceCreateStep2:Ne,InheritanceCreateStep3:$e,InheritanceCreateStep4:pn,InheritanceCreateMenu:Gt},computed:vn({},Object(D["c"])("inheritanceCreate",["getPageSelectedIC","getPagesInfoIC"])),mounted:function(){this.initializeIC()},methods:vn({},Object(D["b"])("inheritanceCreate",["changePageIC","initializeIC"]),{stepperPageChangeRequested:function(t){this.changePageIC(t)}})},bn=mn,gn=(n("6152"),Object(p["a"])(bn,Ht,Lt,!1,null,"2c54bf09",null)),yn=gn.exports,Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance_owner fa"},[n("Stepper",{attrs:{stepperName:"Spend as Owner",pageWanted:t.getPageSelected,pageInfo:t.getPagesInfo,primaryColor:{"--primaryColor":"var(--color-owner-solid, rgb(102, 102, 255))"}},on:{newPageClicked:t.stepperPageChangeRequested}},[n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[0].pageTitle}},[n("InheritanceOwnerStep1")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[1].pageTitle}},[n("InheritanceOwnerStep2")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[2].pageTitle}},[n("InheritanceOwnerStep3")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[3].pageTitle}},[n("InheritanceOwnerStep4")],1)],1)],1)},wn=[],On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[t._v(" First, load the backup access info: ")]),t.showUpload?n("div",[n("div",{staticClass:"dropper"},[n("input",{attrs:{type:"file",id:"file",enctype:"multipart/form-data"},on:{change:function(e){return t.fileSubmitted(e.target.files[0])}}}),t._v(" submit backup file ")]),n("Details",{staticClass:"detailsSubmit",attrs:{buttonText:"Not an upload. Your browser only."}},[n("div",[t._v(" This app is designed to read your backup directly via only your browser."),n("br"),t._v(" Its contents are not coded to be sent anywhere by the app w/o permission."),n("br"),n("br"),t._v(" The app provides convinience buttons to allow use of API endpoints for fee estimates, scanning confirmed funds by contract's address, and broadcasting the finished transaction."),n("br"),t._v(" Fees and unspent outputs in address can be filled out offline manually."),n("br"),t._v(" Raw transaction can also be copied to be broadcast later somewhere else."),n("br"),n("br"),t._v(" Cautious users could use the app in a clean browser instance, via incognito/private mode with no 3rd party extensions, and even offline."),n("br")])]),n("div",[t._v(" or "),n("RoundButton",{attrs:{textContent:"manually fill out",textColor:"var(--background, white)"},on:{click:t.manuallyClicked}})],1)],1):n("div",[n("div",{staticClass:"fileInfo",on:{click:function(e){t.showUpload=!0}}},[t._v(" "+t._s(t.fileName?t.fileName:"not a file submission")+" ")]),n("InheritanceOwnerStep1Form",{staticClass:"form",attrs:{showDetails:t.showDetails},on:{input:t.formEdited}})],1),t.getPagesInfo[1].usable?n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--color-owner-solid, rgb(102, 102, 255))"},on:{click:t.onNextButtonClick}}):t._e()],1)])},_n=[],xn=(n("b0c0"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"info"},[t.getIssues.ownerPrivateKeyWIF?n("div",{staticClass:"notice error"},[t._v(" Need a valid private key (WIF) ")]):t._e(),t.getIssues.address?n("div",{staticClass:"notice error"},[t._v(" Need a valid contract address ")]):t._e(),t.getIssues.doNetworksMatch?n("div",{staticClass:"notice error"},[t._v(" Key and address are not of same network ")]):t._e(),t.getIssues.relativeLockTime?n("div",{staticClass:"notice error"},[t._v(" Relative lock time can't be blank ")]):t._e(),t.getIssues.scriptHex?n("div",{staticClass:"notice error"},[t._v(" Script can't be blank ")]):t._e(),t.getIssues.ownerPrivateKeyWIFInfo?n("div",{staticClass:"notice"},[t._v(" ✓ "+t._s(t.getIssues.ownerPrivateKeyWIFInfo)+" key recognized ")]):t._e(),t.getIssues.addressInfo?n("div",{staticClass:"notice"},[t._v(" ✓ "+t._s(t.getIssues.addressInfo)+" contract address recognized ")]):t._e()]),n("Details",{staticClass:"inputFieldsWrapper",attrs:{buttonText:"Edit details",showAtStart:t.showDetails}},[n("div",{staticClass:"label"},[t._v(" Contract address ")]),n("textarea",{staticClass:"textBox",attrs:{id:"address",rows:"1",spellcheck:"false"},domProps:{value:t.address},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Owner Private Key (WIF) ")]),n("textarea",{staticClass:"textBox",attrs:{id:"ownerPrivateKeyWIF",rows:"1",spellcheck:"false"},domProps:{value:t.ownerPrivateKeyWIF},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Script (hex) ")]),n("textarea",{staticClass:"textBox",attrs:{id:"scriptHex",rows:"1",spellcheck:"false"},domProps:{value:t.scriptHex},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Relative lock time (dec) "+t._s(t.tryToCalcDays()?" ~"+t.tryToCalcDays()+" days":"")+" ")]),n("textarea",{staticClass:"textBox",attrs:{id:"relativeLockTime",rows:"1",spellcheck:"false"},domProps:{value:t.relativeLockTime},on:{input:t.textChanged}})])],1)}),kn=[];function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Sn={name:"InheritanceOwnerForm",components:{Details:rn},data:function(){return{address:"",scriptHex:"",ownerPrivateKeyWIF:"",relativeLockTime:""}},props:{showDetails:{type:Boolean,default:!1}},computed:jn({},Object(D["c"])("inheritanceOwner",["getFile","getContractValues","getIssues"])),mounted:function(){var t=this.getFile;t?this.updateFromFile(t):this.updateFromState()},methods:jn({},Object(D["b"])("inheritanceOwner",["changeContractValues"]),{updateFromState:function(){var t=this.getContractValues;this.address=t.address,this.scriptHex=t.scriptHex,this.ownerPrivateKeyWIF=t.ownerPrivateKeyWIF,this.relativeLockTime=t.relativeLockTime},updateFromFile:function(t){var e=JSON.parse(t.data),n={};try{this.address=e.address}catch(r){n.address=!0}try{this.scriptHex=e.redeemScriptHex||this.scriptHex}catch(r){n.redeemScriptHex=!0}try{this.scriptHex=e.witnessScriptHex||this.scriptHex}catch(r){n.witnessScriptHex=!0}try{this.ownerPrivateKeyWIF=e.ownerPrivateKeyWIF}catch(r){n.ownerPrivateKeyWIF=!0}try{this.relativeLockTime=e.relativeLockTime,this.daysLocked=this.tryToCalcDays()}catch(r){n.relativeLockTime=!0}this.changeContractValues({ownerPrivateKeyWIF:this.ownerPrivateKeyWIF,address:this.address,scriptHex:this.scriptHex,daysLocked:this.daysLocked,relativeLockTime:this.relativeLockTime})},textChanged:function(t){var e;"address"===t.target.id&&(e=an(t.target.value,"basic")),"ownerPrivateKeyWIF"===t.target.id&&(e=an(t.target.value,"base58")),"scriptHex"===t.target.id&&(e=an(t.target.value,"hex")),"relativeLockTime"===t.target.id&&(e=an(t.target.value,"numbers")),t.target.value=e,this[t.target.id]=e,this.$emit("input"),this.changeContractValues({ownerPrivateKeyWIF:this.ownerPrivateKeyWIF,address:this.address,scriptHex:this.scriptHex,relativeLockTime:this.relativeLockTime,daysLocked:this.tryToCalcDays()})},tryToCalcDays:function(){try{var t=((65535&this.relativeLockTime)<<9)/60/60/24;return t.toFixed(3)}catch(e){}}})},In=Sn,Tn=(n("ae4d"),Object(p["a"])(In,xn,kn,!1,null,"097e0ebc",null)),Fn=Tn.exports,Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fadebackground"},[n("div",{staticClass:"divInput"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"inputPin",attrs:{spellcheck:"false",type:"password"},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("submit",t.value)},input:function(e){e.target.composing||(t.value=e.target.value)}}}),n("div",{on:{click:function(e){return t.$emit("submit",t.value)}}},[t._v(" Submit Pin ")])])])},Vn=[],An={name:"InputPrompt",data:function(){return{value:""}},mounted:function(){var t=this;this.$nextTick((function(){return t.$refs.inputPin.focus()}))}},En=An,Dn=(n("94a7"),Object(p["a"])(En,Bn,Vn,!1,null,"2c9f17b4",null)),Rn=Dn.exports;function Nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hn={name:"InheritanceOwnerStep1",components:{ArrowButton:ge,RoundButton:Be,InheritanceOwnerStep1Form:Fn,Details:rn},data:function(){return{showUpload:!0,showDetails:!1,fileName:""}},computed:Un({},Object(D["c"])("inheritanceOwner",["getFile","getContractValues","getPagesInfo"])),mounted:function(){var t=this.getFile;t&&(this.fileName=t.name,this.showUpload=!1);var e=this.getContractValues,n=e.address,r=e.ownerPrivateKeyWIF,a=e.scriptHex;n&&r&&a&&(this.showUpload=!1)},methods:Un({},Object(D["b"])("inheritanceOwner",["changePage","changeFile"]),{onNextButtonClick:function(){this.changePage(2)},fileSubmitted:function(t){var e,n,a,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsText(t)})));case 2:e=i.sent,i.prev=3,n=on.a.decrypt("",e),this.fileName=t.name,this.showUpload=!1,this.changeFile({data:n,name:this.fileName}),console.log("Blank encryption key (default) worked"),i.next=19;break;case 11:return i.prev=11,i.t0=i["catch"](3),console.log("Blank encryption key (default) did not work"),a=function(){return new Promise((function(t){var e=r["a"].extend(Rn),n=new e;n.$once("submit",(function(e){n.$destroy(),n.$el.remove(),t(e)})),n.$mount(),document.body.appendChild(n.$el)}))},i.next=17,regeneratorRuntime.awrap(a());case 17:s=i.sent;try{n=on.a.decrypt(s,e),this.fileName=t.name,this.showUpload=!1,this.changeFile({data:n,name:this.fileName}),console.log("User provided a working pin to decrypt backup")}catch(o){console.log("Error decrypting file"),this.fileName="Error reading file. Wrong pin?",this.showUpload=!1}case 19:case"end":return i.stop()}}),null,this,[[3,11]])},manuallyClicked:function(){this.showUpload=!1,this.showDetails=!0},formEdited:function(){this.fileName="",this.changeFile(void 0)}})},Ln=Hn,Kn=(n("443a"),Object(p["a"])(Ln,On,_n,!1,null,"530cd5b8",null)),Xn=Kn.exports,Wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[t._v(" Which of contract's unspent funds to spend? ")]),n("div",{staticClass:"q__lbl1"},[t._v(" Search the address "),n("br"),n("RoundButton",{staticClass:"q__lblInternet",attrs:{textContent:"at blockstream.info"},on:{click:t.getOutputs}}),t._v(" or "),n("RoundButton",{staticClass:"q__lblInternet",attrs:{textContent:"fill out manually"},on:{click:t.showFormNow}}),t._v(" ? ")],1),n("div",{staticClass:"utxoList"},[t.utxo.length?n("div",{staticClass:"q__lbl2"},[t._v(" Select confirmed outputs:"),n("br"),n("div",{staticClass:"q__lbl2___sidenote"},[t._v(" Locked "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" and when it's unlocked for the heir ")])]):t._e(),t._l(t.utxo,(function(e,r){return n("div",{key:r,staticClass:"utxoItem",on:{click:function(e){return t.utxoClicked(r)}}},[n("RoundButton",{staticClass:"q__plus",attrs:{textContent:"+",isPushedIn:t.isSelected(r)}}),n("span",{staticClass:"q__utxoItem__lblTime"},[t._v(" "+t._s(e.utxoValue)+" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("span",{staticClass:"locked",class:{unlocked:e.ago.unlocked}},[t._v(" "+t._s(e.ago.dh)+" ")])],1)}))],2),t.showForm?n("InheritanceOwnerStep2Form",{staticClass:"form",attrs:{showDetails:t.showDetails}}):t._e(),n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--color-owner-solid, rgb(102, 102, 255))"},on:{click:t.onNextButtonClick}})],1)])},qn=[],$n=n("bc3a"),Mn=n.n($n),zn="https://blockstream.info/api/address/",Gn="https://blockstream.info/testnet/api/address/";function Yn(t,e){var n,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,n="bitcoin"===e?zn:Gn,r=n+t+"/utxo",s.next=5,regeneratorRuntime.awrap(Mn.a.get(r));case 5:return a=s.sent,s.abrupt("return",a.data);case 9:throw s.prev=9,s.t0=s["catch"](0),console.error("Error getting utxo for address from blockstream.info:",s.t0),new Error("API call failed");case 13:case"end":return s.stop()}}),null,null,[[0,9]])}function Jn(t,e){var n=24*e*60*60*1e3,r=Date.now()-(t+n),a=r>0;r=Math.abs(r);var s=Math.floor(r/864e5);r-=864e5*s;var i=Math.floor(r/36e5)%24;r-=36e5*i;var o=Math.floor(r/6e4)%60,c=a?"ago":"left";return{dhm:"".concat(s," days ").concat(i," hours ").concat(o," min ").concat(c),dh:"".concat(s," days ").concat(i," hours ").concat(c),unlocked:a}}var Zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:""!==this.sumOfUTXO,expression:"( this.sumOfUTXO !== '' )"}],staticClass:"sum"},[t._v(" Total selected: "),n("span",{staticClass:"amt"},[t._v(t._s(this.sumOfUTXO))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("Details",{staticClass:"details",attrs:{buttonText:"See details",showAtStart:t.showDetails}},[n("div",{staticClass:"form"},[n("div",{staticClass:"form_buttons"},[n("RoundButton",{staticClass:"btnAddUTXO",attrs:{textContent:"+ funds"},on:{click:t.onClickAddUTXO}})],1),t._l(t.selectedUTXO,(function(e,r,a){return n("div",{key:a,staticClass:"form_element"},[n("div",{staticClass:"form_line1"},[n("div",{staticClass:"label"},[t._v(" Confirmed transaction id (txid) : vout "),n("RoundButton",{staticClass:"btnRemoveUTXO",attrs:{textContent:"×"},on:{click:function(n){return t.onClickRemoveUTXO(r,e,n)}}})],1),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox txidbox",attrs:{id:"txid",rows:"1",spellcheck:"false",placeholder:"txid"},domProps:{value:r.split("-")[0]},on:{input:function(n){return t.txidChanged(r,e,n)}}}),t._v(" : "),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox voutbox",attrs:{id:"vout",rows:"1",spellcheck:"false",placeholder:"vout"},domProps:{value:r.split("-")[1]},on:{input:function(n){return t.voutChanged(r,e,n)}}})]),n("div",{staticClass:"form_line1"},[n("div",{staticClass:"label"},[t._v(" Selected output's value ("+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+") ")]),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox utxovalue",attrs:{id:"utxovalue",rows:"1",spellcheck:"false",placeholder:"BTC value"},domProps:{value:e},on:{input:function(n){return t.utxoValueChanged(r,e,n)}}})])])}))],2)])],1)},Qn=[];function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nr={name:"InheritanceOwnerStep2Form",components:{Details:rn,RoundButton:Be},data:function(){return{lastTimer:null,selectedUTXO:{},sumOfUTXO:""}},props:{showDetails:{type:Boolean,default:!1}},computed:er({},Object(D["c"])("inheritanceOwner",["getContractValues"])),watch:{getContractValues:function(t){this.updateFromState(t)}},mounted:function(){var t=this.getContractValues;this.updateFromState(t)},updated:function(){},methods:er({},Object(D["b"])("inheritanceOwner",["changeContractValues"]),{onClickAddUTXO:function(t){this.selectedUTXO=er({},this.selectedUTXO,Object(R["a"])({},"-","")),this.changeContractValues({selectedUTXO:this.selectedUTXO})},onClickRemoveUTXO:function(t,e,n){delete this.selectedUTXO[t],this.changeContractValues({selectedUTXO:this.selectedUTXO})},txidChanged:function(t,e,n){var r=an(n.target.value,"hex");n.target.value=r;var a=t.split("-")[1],s=e,i=n.target.value;delete this.selectedUTXO[t],this.selectedUTXO[i+"-"+a]=s,this.changeContractValues({selectedUTXO:this.selectedUTXO})},voutChanged:function(t,e,n){var r=an(n.target.value,"numbers");n.target.value=r;var a=t.split("-")[0],s=e,i=n.target.value;delete this.selectedUTXO[t],this.selectedUTXO[a+"-"+i]=s,this.changeContractValues({selectedUTXO:this.selectedUTXO})},utxoValueChanged:function(t,e,n){var r=this,a=an(n.target.value,"fractions");n.target.value=a;var s=1e3;clearTimeout(this.lastTimer),this.lastTimer=setTimeout((function(){a=parseFloat(a).toFixed(8),a=isNaN(a)?(0).toFixed(8):a,n.target.value=a;var e=n.target.value;r.selectedUTXO[t]=e,r.changeContractValues({selectedUTXO:r.selectedUTXO})}),s)},updateFromState:function(t){this.selectedUTXO=t.selectedUTXO,this.sumOfUTXO=t.sumOfUTXO}})},rr=nr,ar=(n("a190"),Object(p["a"])(rr,Zn,Qn,!1,null,"30788e8e",null)),sr=ar.exports;function ir(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var cr={name:"InheritanceOwnerStep2",components:{ArrowButton:ge,RoundButton:Be,InheritanceOwnerStep2Form:sr},data:function(){return{utxo:[],selectedUTXO:{},selected:-1,showForm:!1,showDetails:!1}},mounted:function(){var t=this.getContractValues;this.selectedUTXO=t.selectedUTXO,Object.keys(t.selectedUTXO).length&&(this.showForm=!0)},watch:{getContractValues:function(t){this.selectedUTXO=t.selectedUTXO}},computed:or({},Object(D["c"])("inheritanceOwner",["getContractValues"])),methods:or({},Object(D["b"])("inheritanceOwner",["changePage","changeContractValues"]),{showFormNow:function(){this.showDetails=!this.showDetails,this.showForm=!0},isSelected:function(t){var e=this.utxo[t].txid,n=this.utxo[t].vout,r=!!this.selectedUTXO[e+"-"+n];return r},onNextButtonClick:function(){this.changePage(3)},getOutputs:function(){var t,e,n,r,a=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(t=this.getContractValues,e=t.address,n=t.networkChoice,s.prev=1,e){s.next=4;break}throw new Error("no address");case 4:if(n){s.next=6;break}throw new Error("unknown network");case 6:return s.next=8,regeneratorRuntime.awrap(Yn(e,n));case 8:r=s.sent,this.utxo=r.reduce((function(t,e,n){if(e.status.block_time){var r=a.getContractValues.daysLocked,s=Jn(1e3*e.status.block_time,r),i=(e.value/1e8).toFixed(8),o={utxoValue:i,ago:s,txid:e.txid,vout:e.vout.toString(),time:e.status.block_time};return[].concat(Object(Zt["a"])(t),[o])}return t}),[]),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](1),console.log("Error while trying api request from blockstream.info\n",s.t0);case 15:case"end":return s.stop()}}),null,this,[[1,12]])},utxoClicked:function(t){this.showForm=!0;var e=this.utxo[t].txid,n=this.utxo[t].vout,r=this.utxo[t].utxoValue,a=!!this.selectedUTXO[e+"-"+n];a?delete this.selectedUTXO[e+"-"+n]:this.selectedUTXO=or({},this.selectedUTXO,Object(R["a"])({},e+"-"+n,r)),this.changeContractValues({selectedUTXO:this.selectedUTXO})}})},lr=cr,ur=(n("ada5"),Object(p["a"])(lr,Wn,qn,!1,null,"99e2f54c",null)),dr=ur.exports,hr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[n("div",{staticClass:"q__strong_text"},[t._v(" Where to send "),n("span",{staticClass:"amt"},[t._v(t._s(t.getContractValues.sumOfUTXO))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" selected? ")]),n("div",{staticClass:"q__lbl1"},[n("RoundButton",{attrs:{textContent:"Spend",textColor:"var(--background, white)"},on:{click:t.showSpendingForm}}),n("RoundButton",{attrs:{textContent:"Only reset timer",textColor:"var(--background, white)"},on:{click:t.showResetForm}})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showForm,expression:"showForm"}]},[n("InheritanceOwnerStep3Form",{staticClass:"form"})],1),n("ArrowButton",{staticClass:"next",attrs:{textContent:"Next",textColor:"var(--color-owner-solid, rgb(102, 102, 255))"},on:{click:t.onNextButtonClick}})],1)])},pr=[],fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.getContractValues.spending,expression:"getContractValues.spending"}]},[n("div",{staticClass:"label"},[t._v(" Send to "),"testnet"===t.getContractValues.networkChoice?n("RoundButton",{staticClass:"btnTestnet",attrs:{textContent:"testnet faucet"},on:{click:function(e){return t.changeContractValues({toAddress:"2NGZrVvZG92qGYqzTLjCAewvPZ7JE8S8VxE"})}}}):t._e()],1),n("textarea",{ref:"q__input1",staticClass:"textBox",class:{badValue:t.getIssues.page3.isToAddressMatch},attrs:{id:"toAddress",placeholder:"Bitcoin address",rows:"1",spellcheck:"false"},domProps:{value:t.toAddress},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Amount ( "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ) ")]),n("textarea",{ref:"q__input2",staticClass:"textBox txtAmount",class:{badValue:t.toAmount<=0},attrs:{id:"toAmount",placeholder:"BTC to send",rows:"1",spellcheck:"false"},domProps:{value:t.toAmount},on:{input:t.textChanged}}),t._v(" "),n("RoundButton",{staticClass:"btnMax",attrs:{textContent:"Send All"},on:{click:t.onMaxClick}})],1),n("div",{staticClass:"label"},[t._v(" Miner Fee ( sat / vByte ) ")]),n("textarea",{ref:"q__input3",staticClass:"textBox txtFee",attrs:{id:"feeRate",placeholder:"Fee rate",rows:"1",spellcheck:"false"},domProps:{value:t.feeRate},on:{input:t.textChanged}}),t._v(" "),n("RoundButton",{staticClass:"btnFee",attrs:{textContent:"Check Net"},on:{click:t.onFeeClick}}),n("div",{staticClass:"lblReturn"},[t.getContractValues.change?parseFloat(t.changeAmount)>parseFloat(t.getContractValues.feeAmount)?n("div",[n("span",{staticClass:"change"},[t._v(" "+t._s(this.changeAmount)+" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),t._v(" left for timer reset. ")]):n("div",[t._v(" Only "),n("span",{staticClass:"change"},[t._v(" "+t._s(this.changeAmount)+" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),t._v(" left for timer reset. "),n("div",{staticClass:"suggestion"},[t._v(" Use Send All to save on fees by not reseting any to send more. ")])]):n("div",[t._v(" Timer reset output removed to send all ")]),t._l(t.getIssues.page3,(function(e,r,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFreshLoad,expression:"!isFreshLoad"}],key:a,staticClass:"notice error"},[t._v(" "+t._s(e)+" ")])})),n("Details",{staticClass:"details",attrs:{alignment:"middle"}},[t.tx?n("div",{staticClass:"lblInfoBlob"},[t._v(" Your future transaction information:"),n("br"),n("table",[n("tr",[n("td",[t._v("fee:")]),n("td",[t._v(t._s(Math.floor(1e8*parseFloat(t.getContractValues.feeAmount)))+" sats")])]),n("tr",[n("td",[t._v("txid:")]),n("td",[t._v(t._s(t.tx?t.tx.getId():"N/A"))])]),n("tr",[n("td",[t._v("size:")]),n("td",[t._v(t._s(t.tx?t.tx.virtualSize():"N/A")+" vBytes")])]),n("tr",[n("td",[t._v("outputs:")]),n("td",t._l(t.tx.outs,(function(e,r){return n("div",{key:r},[t._v(" #"+t._s(r)+" is "+t._s(e.value)+" sats ")])})),0)]),n("tr",[n("td",[t._v("inputs:")]),n("td",t._l(t.tx.ins,(function(e,r){return n("div",{key:r},[t._v(" #"+t._s(r)+" is from "+t._s(t.calcTxid(e.hash))+" : "+t._s(e.index)+" ")])})),0)]),n("tr",[n("td",[t._v("redeemScript:")]),n("td",[t._v(" "+t._s(t.getContractValues.scriptHex)+" ")])])])]):t._e(),n("div",{staticClass:"lblInfoBlob"},[t._v(" [Check net] button fetches fee rate recommendations from blockstream.info and fills in the fee expected to allow confirmation within 2 blocks or ~20 min (always mainnet prices) ")]),n("div",{staticClass:"lblInfoBlob"},[t._v(" The timer for relocked funds is reset via sending them back to this contract's address ")]),"testnet"===t.getContractValues.networkChoice?n("div",{staticClass:"lblInfoBlob"},[t._v(" If testnet is used, [testnet faucet] button can fill a faucet's address to help them out. ")]):t._e()])],2)],1)},vr=[],mr=(n("466d"),"https://blockstream.info/api/fee-estimates");function br(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Mn.a.get(mr));case 3:return t=e.sent,console.log("fees data from blockstream.info",t),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e["catch"](0),console.error("fees.js",e.t0);case 11:case"end":return e.stop()}}),null,null,[[0,8]])}function gr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Cr={name:"InheritanceOwnerStep3Form",components:{RoundButton:Be,Details:rn},data:function(){return{lastTimer:{toAddress:null,toAmount:null,feeRate:null},toAddress:"",toAmount:"",feeRate:"",changeAddress:"",changeAmount:"",isFreshLoad:!0}},computed:yr({},Object(D["c"])("inheritanceOwner",["getContractValues","getIssues"]),{tx:function(){return this.getContractValues.tx}}),watch:{getContractValues:function(t,e){this.updateFromState()}},mounted:function(){this.updateFromState()},methods:yr({},Object(D["b"])("inheritanceOwner",["changeContractValues"]),{calcTxid:function(t){return t.toString("hex").match(/../g).reverse().join("")},updateFromState:function(){var t=this.getContractValues;this.toAddress=t.toAddress,this.toAmount=t.toAmount,this.feeRate=t.feeRate,this.changeAddress=t.changeAddress,this.changeAmount=t.changeAmount},onMaxClick:function(){this.toAmount=this.getContractValues.sumOfUTXO,this.changeContractValues({toAmount:this.toAmount,change:!1})},onFeeClick:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(br());case 2:t=e.sent,this.feeRate=t["2"],this.changeContractValues({feeRate:this.feeRate,change:!0});case 5:case"end":return e.stop()}}),null,this)},textChanged:function(t){var e=this;this[t.target.id]=t.target.value=an(t.target.value,"oneline");var n=1e3;clearTimeout(this.lastTimer[t.target.id]),this.lastTimer[t.target.id]=setTimeout((function(){var n;"toAddress"===t.target.id&&(n=an(t.target.value,"basic")),"toAmount"===t.target.id&&(n=an(t.target.value,"fractions"),n=parseFloat(n).toFixed(8),n=isNaN(n)?(0).toFixed(8):n),"feeRate"===t.target.id&&(n=an(t.target.value,"fractions"),n=parseFloat(n).toFixed(3)),t.target.value=n,e[t.target.id]=n,e.changeContractValues({toAddress:e.toAddress,toAmount:e.toAmount,feeRate:e.feeRate,changeAddress:e.changeAddress,change:!0}),e.isFreshLoad=!1}),n)}})},wr=Cr,Or=(n("2368"),Object(p["a"])(wr,fr,vr,!1,null,"6644f672",null)),_r=Or.exports;function xr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pr={name:"InheritanceOwnerStep3",components:{ArrowButton:ge,RoundButton:Be,InheritanceOwnerStep3Form:_r},data:function(){return{showForm:!1}},mounted:function(){this.getContractValues.showForm&&(this.showForm=!0)},computed:kr({},Object(D["c"])("inheritanceOwner",["getContractValues"])),methods:kr({},Object(D["b"])("inheritanceOwner",["changePage","changeContractValues"]),{onNextButtonClick:function(){this.changePage(4)},showSpendingForm:function(){this.showForm=!0,this.changeContractValues({showForm:!0,spending:!0})},showResetForm:function(){this.showForm=!0,this.changeContractValues({showForm:!0,spending:!1})}})},jr=Pr,Sr=(n("0f38"),Object(p["a"])(jr,hr,pr,!1,null,"49fe0ad8",null)),Ir=Sr.exports,Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[n("div",{staticClass:"q__strong_text"},[t._v(" Your transaction is going to ")]),n("div",{staticClass:"q__strong_info"},[n("div",{directives:[{name:"show",rawName:"v-show",value:parseFloat(this.getContractValues.toAmount)>0,expression:"parseFloat(this.getContractValues.toAmount) > 0"}]},[t._v(" send "),n("span",{staticClass:"amt"},[t._v(t._s(this.getContractValues.toAmount))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" "),n("br"),t._v(" to "+t._s(this.getContractValues.toAddress)+" "),n("br"),n("br")]),n("div",{directives:[{name:"show",rawName:"v-show",value:parseFloat(this.getContractValues.changeAmount)>0,expression:"parseFloat(this.getContractValues.changeAmount) > 0"}]},[t._v(" reset "),n("span",{staticClass:"amt"},[t._v(t._s(this.getContractValues.changeAmount))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" "),n("br"),n("br")]),t._v(" and pay a fee of "),n("span",{staticClass:"amt"},[t._v(t._s(this.getContractValues.feeAmount))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("RoundButton",{staticClass:"btnSend",attrs:{textContent:"Send via blockstream.info",textColor:"var(--background, white)"},on:{click:t.btnBroadcast}}),n("RoundButton",{staticClass:"btnCopy",attrs:{textContent:"Copy it to clipboard",textColor:"var(--background, white)"},on:{click:t.btnCopy}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bRes,expression:"bRes"}],staticClass:"apiResponse"},[t._v(" "+t._s(t.bOk?"Success!":"Failure: "+t.bRes)+" "),n("br"),n("a",{directives:[{name:"show",rawName:"v-show",value:t.bOk,expression:"bOk"}],staticClass:"txid",attrs:{href:t.calcPath,target:"_blank"}},[t._v(" txid: "+t._s(t.bRes)+" ")])]),n("Details",{staticClass:"details"},[n("div",{staticClass:"txHex"},[n("div",[t._v(" Transaction in hex form - safe to broadcast to the Bitcoin network"),n("br"),t._v(" (contains signatures and no private keys): ")]),n("div",{staticClass:"hex"},[t._v(" "+t._s(t.getContractValues.tx?t.getContractValues.tx.toHex():"")+" ")]),n("div",[t._v(" decode the transaction hex independently if desired via tools such as: https://testnet.smartbit.com.au/txs/decodetx ")])])]),n("Details",{staticClass:"details",attrs:{buttonText:"Where to broadcast copied transaction"}},[n("div",{staticClass:"pushInfo"},[t._v(" https://www.smartbit.com.au/txs/pushtx & https://testnet.smartbit.com.au/txs/pushtx *"),n("br"),t._v(" https://blockstream.info/tx/push & https://blockstream.info/testnet/tx/push *"),n("br"),t._v(" https://testnet.blockexplorer.com/tx/send "),n("br"),t._v(" https://live.blockcypher.com/btc/pushtx/"),n("br"),t._v(" https://btc.com/tools/tx/publish"),n("br"),t._v(" possibly more"),n("br"),t._v(" (not all allow p2wsh transactions! supporting marked by *)"),n("br")])])],1)])])},Fr=[];function Br(t){var e,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e="https://blockstream.info/testnet/api/broadcast",r.prev=1,r.next=4,regeneratorRuntime.awrap(Mn.a.get(e,{params:{tx:t}}));case 4:return n=r.sent,r.abrupt("return",n);case 8:return r.prev=8,r.t0=r["catch"](1),console.log("failed push",r.t0),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Er={name:"InheritanceOwnerStep4",components:{RoundButton:Be,Details:rn},data:function(){return{bRes:"",bOk:!1}},mounted:function(){},computed:Ar({},Object(D["c"])("inheritanceOwner",["getContractValues"]),{calcPath:function(){var t=this.getContractValues.networkChoice,e="testnet"===t?"testnet/":"";return"https://blockstream.info/"+e+"tx/"+this.bRes}}),methods:Ar({},Object(D["b"])("inheritanceOwner",["changePage","changeContractValues"]),{btnBroadcast:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Br(this.getContractValues.tx.toHex()));case 2:t=e.sent,200===t.status?(this.bRes=t.data,this.bOk=!0):(this.bRes=t.response.data,this.bOk=!1);case 4:case"end":return e.stop()}}),null,this)},btnCopy:function(){var t=this.getContractValues.tx.toHex();Je(t)&&this.flash("Transaction (hex) copied to clipboard!","success",{timeout:3e3,important:!0})}})},Dr=Er,Rr=(n("5002"),Object(p["a"])(Dr,Tr,Fr,!1,null,"5436fee2",null)),Nr=Rr.exports;function Ur(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ur(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Lr={name:"InheritanceOwner",components:{Stepper:ae,StepperStep:ue,InheritanceOwnerStep1:Xn,InheritanceOwnerStep2:dr,InheritanceOwnerStep3:Ir,InheritanceOwnerStep4:Nr},computed:Hr({},Object(D["c"])("inheritanceOwner",["getPagesInfo","getPageSelected"])),methods:Hr({},Object(D["b"])("inheritanceOwner",["changePage"]),{stepperPageChangeRequested:function(t){this.changePage(t)}})},Kr=Lr,Xr=(n("e750"),Object(p["a"])(Kr,Cn,wn,!1,null,"8730852a",null)),Wr=Xr.exports,qr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inheritance_heir fa"},[n("Stepper",{attrs:{stepperName:"Spend as Heir",pageWanted:t.getPageSelected,pageInfo:t.getPagesInfo,primaryColor:{"--primaryColor":"var(--color-heir-solid, rgba(0, 134, 0))"}},on:{newPageClicked:t.stepperPageChangeRequested}},[n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[0].pageTitle}},[n("InheritanceHeirStep1")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[1].pageTitle}},[n("InheritanceHeirStep2")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[2].pageTitle}},[n("InheritanceHeirStep3")],1),n("StepperStep",{attrs:{pageTitle:t.getPagesInfo[3].pageTitle}},[n("InheritanceHeirStep4")],1)],1)],1)},$r=[],Mr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[t._v(" First, load the backup access info: ")]),t.showUpload?n("div",[n("div",{staticClass:"dropper"},[n("input",{attrs:{type:"file",id:"file",enctype:"multipart/form-data"},on:{change:function(e){return t.fileSubmitted(e.target.files[0])}}}),t._v(" submit backup file ")]),n("Details",{staticClass:"detailsSubmit",attrs:{buttonText:"Not an upload. Your browser only."}},[n("div",[t._v(" This app is designed to read your backup directly via only your browser."),n("br"),t._v(" Its contents are not coded to be sent anywhere by the app w/o permission."),n("br"),n("br"),t._v(" The app provides convinience buttons to allow use of API endpoints for fee estimates, scanning confirmed funds by contract's address, and broadcasting the finished transaction."),n("br"),t._v(" Fees and unspent outputs in address can be filled out offline manually."),n("br"),t._v(" Raw transaction can also be copied to be broadcast later somewhere else."),n("br"),n("br"),t._v(" Cautious users could use the app in a clean browser instance, via incognito/private mode with no 3rd party extensions, and even offline."),n("br")])]),n("div",[t._v(" or "),n("RoundButton",{attrs:{textContent:"manually fill out",textColor:"var(--background, white)"},on:{click:t.manuallyClicked}})],1)],1):n("div",[n("div",{staticClass:"fileInfo",on:{click:function(e){t.showUpload=!0}}},[t._v(" "+t._s(t.fileName?t.fileName:"not a file submission")+" ")]),n("InheritanceHeirStep1Form",{staticClass:"form",attrs:{showDetails:t.showDetails},on:{input:t.formEdited}})],1),t.getPagesInfo[1].usable?n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--color-heir-solid, rgba(0, 134, 0))"},on:{click:t.onNextButtonClick}}):t._e()],1)])},zr=[],Gr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"info"},[t.getIssues.heirPrivateKeyWIF?n("div",{staticClass:"notice error"},[t._v(" Need a valid private key (WIF) ")]):t._e(),t.getIssues.address?n("div",{staticClass:"notice error"},[t._v(" Need a valid contract address ")]):t._e(),t.getIssues.doNetworksMatch?n("div",{staticClass:"notice error"},[t._v(" Key and address are not of same network ")]):t._e(),t.getIssues.relativeLockTime?n("div",{staticClass:"notice error"},[t._v(" Relative lock time can't be blank ")]):t._e(),t.getIssues.scriptHex?n("div",{staticClass:"notice error"},[t._v(" Script can't be blank ")]):t._e(),t.getIssues.heirPrivateKeyWIFInfo?n("div",{staticClass:"notice"},[t._v(" ✓ "+t._s(t.getIssues.heirPrivateKeyWIFInfo)+" key recognized ")]):t._e(),t.getIssues.addressInfo?n("div",{staticClass:"notice"},[t._v(" ✓ "+t._s(t.getIssues.addressInfo)+" contract address recognized ")]):t._e()]),n("Details",{staticClass:"inputFieldsWrapper",attrs:{buttonText:"Edit details",showAtStart:t.showDetails}},[n("div",{staticClass:"label"},[t._v(" Contract address ")]),n("textarea",{staticClass:"textBox",attrs:{id:"address",rows:"1",spellcheck:"false"},domProps:{value:t.address},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Heir Private Key (WIF) ")]),n("textarea",{staticClass:"textBox",attrs:{id:"heirPrivateKeyWIF",rows:"1",spellcheck:"false"},domProps:{value:t.heirPrivateKeyWIF},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Script (hex) ")]),n("textarea",{staticClass:"textBox",attrs:{id:"scriptHex",rows:"1",spellcheck:"false"},domProps:{value:t.scriptHex},on:{input:t.textChanged}}),t._v(" "),n("div",{staticClass:"label"},[t._v(" Relative lock time (dec) "+t._s(t.tryToCalcDays()?" ~"+t.tryToCalcDays()+" days":"")+" ")]),n("textarea",{staticClass:"textBox",attrs:{id:"relativeLockTime",rows:"1",spellcheck:"false"},domProps:{value:t.relativeLockTime},on:{input:t.textChanged}})])],1)},Yr=[];function Jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qr={name:"InheritanceHeirForm",components:{Details:rn},data:function(){return{address:"",scriptHex:"",heirPrivateKeyWIF:"",relativeLockTime:""}},props:{showDetails:{type:Boolean,default:!1}},computed:Zr({},Object(D["c"])("inheritanceHeir",["getFile","getContractValues","getIssues"])),mounted:function(){var t=this.getFile;t?this.updateFromFile(t):this.updateFromState()},methods:Zr({},Object(D["b"])("inheritanceHeir",["changeContractValues"]),{updateFromState:function(){var t=this.getContractValues;this.address=t.address,this.scriptHex=t.scriptHex,this.heirPrivateKeyWIF=t.heirPrivateKeyWIF,this.relativeLockTime=t.relativeLockTime},updateFromFile:function(t){var e=JSON.parse(t.data),n={};try{this.address=e.address}catch(r){n.address=!0}try{this.scriptHex=e.redeemScriptHex||this.scriptHex}catch(r){n.redeemScriptHex=!0}try{this.scriptHex=e.witnessScriptHex||this.scriptHex}catch(r){n.witnessScriptHex=!0}try{this.heirPrivateKeyWIF=e.heirPrivateKeyWIF}catch(r){n.heirPrivateKeyWIF=!0}try{this.relativeLockTime=e.relativeLockTime,this.daysLocked=this.tryToCalcDays()}catch(r){n.relativeLockTime=!0}this.changeContractValues({heirPrivateKeyWIF:this.heirPrivateKeyWIF,address:this.address,scriptHex:this.scriptHex,daysLocked:this.daysLocked,relativeLockTime:this.relativeLockTime})},textChanged:function(t){var e;"address"===t.target.id&&(e=an(t.target.value,"basic")),"heirPrivateKeyWIF"===t.target.id&&(e=an(t.target.value,"base58")),"scriptHex"===t.target.id&&(e=an(t.target.value,"hex")),"relativeLockTime"===t.target.id&&(e=an(t.target.value,"numbers")),t.target.value=e,this[t.target.id]=e,this.$emit("input"),this.changeContractValues({heirPrivateKeyWIF:this.heirPrivateKeyWIF,address:this.address,scriptHex:this.scriptHex,relativeLockTime:this.relativeLockTime,daysLocked:this.tryToCalcDays()})},tryToCalcDays:function(){try{var t=((65535&this.relativeLockTime)<<9)/60/60/24;return t.toFixed(3)}catch(e){}}})},ta=Qr,ea=(n("2f4e"),Object(p["a"])(ta,Gr,Yr,!1,null,"e5dab606",null)),na=ea.exports;function ra(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var sa={name:"InheritanceHeirStep1",components:{ArrowButton:ge,RoundButton:Be,InheritanceHeirStep1Form:na,Details:rn},data:function(){return{showUpload:!0,showDetails:!1,fileName:""}},computed:aa({},Object(D["c"])("inheritanceHeir",["getFile","getContractValues","getPagesInfo"])),mounted:function(){var t=this.getFile;t&&(this.fileName=t.name,this.showUpload=!1);var e=this.getContractValues,n=e.address,r=e.heirPrivateKeyWIF,a=e.scriptHex;n&&r&&a&&(this.showUpload=!1)},methods:aa({},Object(D["b"])("inheritanceHeir",["changePage","changeFile"]),{onNextButtonClick:function(){this.changePage(2)},fileSubmitted:function(t){var e,n,a,s;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsText(t)})));case 2:e=i.sent,i.prev=3,n=on.a.decrypt("",e),this.fileName=t.name,this.showUpload=!1,this.changeFile({data:n,name:this.fileName}),console.log("Blank encryption key (default) worked"),i.next=19;break;case 11:return i.prev=11,i.t0=i["catch"](3),console.log("Blank encryption key (default) did not work"),a=function(){return new Promise((function(t){var e=r["a"].extend(Rn),n=new e;n.$once("submit",(function(e){n.$destroy(),n.$el.remove(),t(e)})),n.$mount(),document.body.appendChild(n.$el)}))},i.next=17,regeneratorRuntime.awrap(a());case 17:s=i.sent;try{n=on.a.decrypt(s,e),this.fileName=t.name,this.showUpload=!1,this.changeFile({data:n,name:this.fileName}),console.log("User provided a working pin to decrypt backup")}catch(o){console.log("Error decrypting file"),this.fileName="Error reading file. Wrong pin?",this.showUpload=!1}case 19:case"end":return i.stop()}}),null,this,[[3,11]])},manuallyClicked:function(){this.showUpload=!1,this.showDetails=!0},formEdited:function(){this.fileName="",this.changeFile(void 0)}})},ia=sa,oa=(n("54d9"),Object(p["a"])(ia,Mr,zr,!1,null,"dbc39648",null)),ca=oa.exports,la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[t._v(" Which of contract's unspent funds to spend? ")]),n("div",{staticClass:"q__lbl1"},[t._v(" Search the address "),n("br"),n("RoundButton",{staticClass:"q__lblInternet",attrs:{textContent:"at blockstream.info"},on:{click:t.getOutputs}}),t._v(" or "),n("RoundButton",{staticClass:"q__lblInternet",attrs:{textContent:"fill out manually"},on:{click:t.showFormNow}}),t._v(" ? ")],1),n("div",{staticClass:"utxoList"},[t.utxo.length?n("div",{staticClass:"q__lbl2"},[t._v(" Select confirmed outputs:"),n("br"),n("div",{staticClass:"q__lbl2___sidenote"},[t._v(" Locked "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" and when it's unlocked for you ")])]):t._e(),t._l(t.utxo,(function(e,r){return n("div",{key:r,staticClass:"utxoItem",on:{click:function(e){return t.utxoClicked(r)}}},[n("RoundButton",{staticClass:"q__plus",attrs:{textContent:"+",isPushedIn:t.isSelected(r)}}),n("span",{staticClass:"q__utxoItem__lblTime"},[t._v(" "+t._s(e.utxoValue)+" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("span",{staticClass:"locked",class:{unlocked:e.ago.unlocked}},[t._v(" "+t._s(e.ago.dh)+" ")])],1)}))],2),t.showForm?n("InheritanceHeirStep2Form",{staticClass:"form",attrs:{showDetails:t.showDetails}}):t._e(),n("ArrowButton",{attrs:{textContent:"Next",textColor:"var(--color-heir-solid, rgba(0, 134, 0))"},on:{click:t.onNextButtonClick}})],1)])},ua=[],da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:""!==this.sumOfUTXO,expression:"( this.sumOfUTXO !== '' )"}],staticClass:"sum"},[t._v(" Total selected: "),n("span",{staticClass:"amt"},[t._v(t._s(this.sumOfUTXO))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("Details",{staticClass:"details",attrs:{buttonText:"See details",showAtStart:t.showDetails}},[n("div",{staticClass:"form"},[n("div",{staticClass:"form_buttons"},[n("RoundButton",{staticClass:"btnAddUTXO",attrs:{textContent:"+ funds"},on:{click:t.onClickAddUTXO}})],1),t._l(t.selectedUTXO,(function(e,r,a){return n("div",{key:a,staticClass:"form_element"},[n("div",{staticClass:"form_line1"},[n("div",{staticClass:"label"},[t._v(" Confirmed transaction id (txid) : vout "),n("RoundButton",{staticClass:"btnRemoveUTXO",attrs:{textContent:"×"},on:{click:function(n){return t.onClickRemoveUTXO(r,e,n)}}})],1),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox txidbox",attrs:{id:"txid",rows:"1",spellcheck:"false",placeholder:"txid"},domProps:{value:r.split("-")[0]},on:{input:function(n){return t.txidChanged(r,e,n)}}}),t._v(" : "),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox voutbox",attrs:{id:"vout",rows:"1",spellcheck:"false",placeholder:"vout"},domProps:{value:r.split("-")[1]},on:{input:function(n){return t.voutChanged(r,e,n)}}})]),n("div",{staticClass:"form_line1"},[n("div",{staticClass:"label"},[t._v(" Selected output's value ("+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+") ")]),n("textarea",{ref:a,refInFor:!0,staticClass:"textbox utxovalue",attrs:{id:"utxovalue",rows:"1",spellcheck:"false",placeholder:"BTC value"},domProps:{value:e},on:{input:function(n){return t.utxoValueChanged(r,e,n)}}})])])}))],2)])],1)},ha=[];function pa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pa(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var va={name:"InheritanceHeirStep2Form",components:{Details:rn,RoundButton:Be},data:function(){return{lastTimer:null,selectedUTXO:{},sumOfUTXO:""}},props:{showDetails:{type:Boolean,default:!1}},computed:fa({},Object(D["c"])("inheritanceHeir",["getContractValues"])),watch:{getContractValues:function(t){this.updateFromState(t)}},mounted:function(){var t=this.getContractValues;this.updateFromState(t)},updated:function(){},methods:fa({},Object(D["b"])("inheritanceHeir",["changeContractValues"]),{onClickAddUTXO:function(t){this.selectedUTXO=fa({},this.selectedUTXO,Object(R["a"])({},"-","")),this.changeContractValues({selectedUTXO:this.selectedUTXO})},onClickRemoveUTXO:function(t,e,n){delete this.selectedUTXO[t],this.changeContractValues({selectedUTXO:this.selectedUTXO})},txidChanged:function(t,e,n){var r=an(n.target.value,"hex");n.target.value=r;var a=t.split("-")[1],s=e,i=n.target.value;delete this.selectedUTXO[t],this.selectedUTXO[i+"-"+a]=s,this.changeContractValues({selectedUTXO:this.selectedUTXO})},voutChanged:function(t,e,n){var r=an(n.target.value,"numbers");n.target.value=r;var a=t.split("-")[0],s=e,i=n.target.value;delete this.selectedUTXO[t],this.selectedUTXO[a+"-"+i]=s,this.changeContractValues({selectedUTXO:this.selectedUTXO})},utxoValueChanged:function(t,e,n){var r=this,a=an(n.target.value,"fractions");n.target.value=a;var s=1e3;clearTimeout(this.lastTimer),this.lastTimer=setTimeout((function(){a=parseFloat(a).toFixed(8),a=isNaN(a)?(0).toFixed(8):a,n.target.value=a;var e=n.target.value;r.selectedUTXO[t]=e,r.changeContractValues({selectedUTXO:r.selectedUTXO})}),s)},updateFromState:function(t){this.selectedUTXO=t.selectedUTXO,this.sumOfUTXO=t.sumOfUTXO}})},ma=va,ba=(n("522b"),Object(p["a"])(ma,da,ha,!1,null,"71022ccb",null)),ga=ba.exports;function ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ya(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wa={name:"InheritanceHeirStep2",components:{ArrowButton:ge,RoundButton:Be,InheritanceHeirStep2Form:ga},data:function(){return{utxo:[],selectedUTXO:{},selected:-1,showForm:!1,showDetails:!1}},mounted:function(){var t=this.getContractValues;this.selectedUTXO=t.selectedUTXO,Object.keys(t.selectedUTXO).length&&(this.showForm=!0)},watch:{getContractValues:function(t){this.selectedUTXO=t.selectedUTXO}},computed:Ca({},Object(D["c"])("inheritanceHeir",["getContractValues"])),methods:Ca({},Object(D["b"])("inheritanceHeir",["changePage","changeContractValues"]),{showFormNow:function(){this.showDetails=!this.showDetails,this.showForm=!0},isSelected:function(t){var e=this.utxo[t].txid,n=this.utxo[t].vout,r=!!this.selectedUTXO[e+"-"+n];return r},onNextButtonClick:function(){this.changePage(3)},getOutputs:function(){var t,e,n,r,a=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(t=this.getContractValues,e=t.address,n=t.networkChoice,s.prev=1,e){s.next=4;break}throw new Error("no address");case 4:if(n){s.next=6;break}throw new Error("unknown network");case 6:return s.next=8,regeneratorRuntime.awrap(Yn(e,n));case 8:r=s.sent,this.utxo=r.reduce((function(t,e,n){if(e.status.block_time){var r=a.getContractValues.daysLocked,s=Jn(1e3*e.status.block_time,r),i=(e.value/1e8).toFixed(8),o={utxoValue:i,ago:s,txid:e.txid,vout:e.vout.toString(),time:e.status.block_time};return[].concat(Object(Zt["a"])(t),[o])}return t}),[]),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](1),console.log("Error while trying api request from blockstream.info\n",s.t0);case 15:case"end":return s.stop()}}),null,this,[[1,12]])},utxoClicked:function(t){this.showForm=!0;var e=this.utxo[t].txid,n=this.utxo[t].vout,r=this.utxo[t].utxoValue,a=!!this.selectedUTXO[e+"-"+n];a?delete this.selectedUTXO[e+"-"+n]:this.selectedUTXO=Ca({},this.selectedUTXO,Object(R["a"])({},e+"-"+n,r)),this.changeContractValues({selectedUTXO:this.selectedUTXO})}})},Oa=wa,_a=(n("8886"),Object(p["a"])(Oa,la,ua,!1,null,"716eadd3",null)),xa=_a.exports,ka=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[n("div",{staticClass:"q__strong_text"},[t._v(" Where to send "),n("span",{staticClass:"amt"},[t._v(t._s(t.getContractValues.sumOfUTXO))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" selected? ")])]),n("div",[n("InheritanceHeirStep3Form",{staticClass:"form"})],1),n("ArrowButton",{staticClass:"next",attrs:{textContent:"Next",textColor:"var(--color-heir-solid, rgba(0, 134, 0))"},on:{click:t.onNextButtonClick}})],1)])},Pa=[],ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"label"},[t._v(" Send to "),"testnet"===t.getContractValues.networkChoice?n("RoundButton",{staticClass:"btnTestnet",attrs:{textContent:"testnet faucet"},on:{click:function(e){return t.changeContractValues({toAddress:"2NGZrVvZG92qGYqzTLjCAewvPZ7JE8S8VxE"})}}}):t._e()],1),n("textarea",{ref:"q__input1",staticClass:"textBox",class:{badValue:t.getIssues.page3.isToAddressMatch},attrs:{id:"toAddress",placeholder:"Bitcoin address",rows:"1",spellcheck:"false"},domProps:{value:t.toAddress},on:{input:t.textChanged}})]),n("div",{staticClass:"label"},[t._v(" Miner Fee ( sat / vByte ) ")]),n("textarea",{ref:"q__input3",staticClass:"textBox txtFee",attrs:{id:"feeRate",placeholder:"Fee rate",rows:"1",spellcheck:"false"},domProps:{value:t.feeRate},on:{input:t.textChanged}}),t._v(" "),n("RoundButton",{staticClass:"btnFee",attrs:{textContent:"Check Net"},on:{click:t.onFeeClick}}),n("div",{staticClass:"divFormFooter"},[n("span",{staticClass:"sending",class:{negativeAmt:t.toAmount<0}},[t._v(" "+t._s(this.toAmount)+" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),t._v(" to be sent "),t._l(t.getIssues.page3,(function(e,r,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFreshLoad,expression:"!isFreshLoad"}],key:a,staticClass:"notice error"},[t._v(" "+t._s(e)+" ")])})),n("Details",{staticClass:"details",attrs:{alignment:"middle"}},[t.tx?n("div",{staticClass:"lblInfoBlob"},[t._v(" Your future transaction information:"),n("br"),n("table",[n("tr",[n("td",[t._v("fee:")]),n("td",[t._v(t._s(Math.floor(1e8*parseFloat(t.getContractValues.feeAmount)))+" sats")])]),n("tr",[n("td",[t._v("txid:")]),n("td",[t._v(t._s(t.tx?t.tx.getId():"N/A"))])]),n("tr",[n("td",[t._v("size:")]),n("td",[t._v(t._s(t.tx?t.tx.virtualSize():"N/A")+" vBytes")])]),n("tr",[n("td",[t._v("outputs:")]),n("td",t._l(t.tx.outs,(function(e,r){return n("div",{key:r},[t._v(" #"+t._s(r)+" is "+t._s(e.value)+" sats ")])})),0)]),n("tr",[n("td",[t._v("inputs:")]),n("td",t._l(t.tx.ins,(function(e,r){return n("div",{key:r},[t._v(" #"+t._s(r)+" is from "+t._s(t.calcTxid(e.hash))+" : "+t._s(e.index)+" ")])})),0)]),n("tr",[n("td",[t._v("redeemScript:")]),n("td",[t._v(" "+t._s(t.getContractValues.scriptHex)+" ")])])])]):t._e(),n("div",{staticClass:"lblInfoBlob"},[t._v(" [Check net] button fetches fee rate recommendations from blockstream.info and fills in the fee expected to allow confirmation within 2 blocks or ~20 min (always mainnet prices) ")]),"testnet"===t.getContractValues.networkChoice?n("div",{staticClass:"lblInfoBlob"},[t._v(" If testnet is used, [testnet faucet] button can fill a faucet's address to help them out. ")]):t._e()])],2)],1)},Sa=[];function Ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ia(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fa={name:"InheritanceHeirStep3Form",components:{RoundButton:Be,Details:rn},data:function(){return{lastTimer:{toAddress:null,feeRate:null},toAddress:"",feeRate:"",toAmount:"",isFreshLoad:!0}},computed:Ta({},Object(D["c"])("inheritanceHeir",["getContractValues","getIssues"]),{tx:function(){return this.getContractValues.tx}}),watch:{getContractValues:function(t,e){this.updateFromState()}},mounted:function(){this.updateFromState()},methods:Ta({},Object(D["b"])("inheritanceHeir",["changeContractValues"]),{calcTxid:function(t){return t.toString("hex").match(/../g).reverse().join("")},updateFromState:function(){var t=this.getContractValues;this.toAddress=t.toAddress,this.feeRate=t.feeRate,this.toAmount=t.toAmount},onFeeClick:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(br());case 2:t=e.sent,this.feeRate=t["2"],this.changeContractValues({feeRate:this.feeRate});case 5:case"end":return e.stop()}}),null,this)},textChanged:function(t){var e=this;this[t.target.id]=t.target.value=an(t.target.value,"oneline");var n=1e3;clearTimeout(this.lastTimer[t.target.id]),this.lastTimer[t.target.id]=setTimeout((function(){var n;"toAddress"===t.target.id&&(n=an(t.target.value,"basic")),"feeRate"===t.target.id&&(n=an(t.target.value,"fractions"),n=parseFloat(n).toFixed(3)),t.target.value=n,e[t.target.id]=n,e.changeContractValues({toAddress:e.toAddress,feeRate:e.feeRate}),e.isFreshLoad=!1}),n)}})},Ba=Fa,Va=(n("7cdf"),Object(p["a"])(Ba,ja,Sa,!1,null,"48912fa8",null)),Aa=Va.exports;function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ra={name:"InheritanceHeirStep3",components:{ArrowButton:ge,InheritanceHeirStep3Form:Aa},data:function(){return{}},mounted:function(){},computed:Da({},Object(D["c"])("inheritanceHeir",["getContractValues"])),methods:Da({},Object(D["b"])("inheritanceHeir",["changePage","changeContractValues"]),{onNextButtonClick:function(){this.changePage(4)}})},Na=Ra,Ua=(n("83e6"),Object(p["a"])(Na,ka,Pa,!1,null,"7e072298",null)),Ha=Ua.exports,La=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"q fa"},[n("div",{staticClass:"q__strong"},[n("div",{staticClass:"q__strong_text"},[t._v(" Your transaction is going to ")]),n("div",{staticClass:"q__strong_info"},[t._v(" send "),n("span",{staticClass:"amt"},[t._v(t._s(this.getContractValues.toAmount))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" "),n("br"),t._v(" to "+t._s(this.getContractValues.toAddress)+" "),n("br"),n("br"),t._v(" and pay a fee of "),n("span",{staticClass:"amt"},[t._v(t._s(this.getContractValues.feeAmount))]),t._v(" "+t._s("testnet"===t.getContractValues.networkChoice?"tBTC":"BTC")+" ")]),n("RoundButton",{staticClass:"btnSend",attrs:{textContent:"Send via blockstream.info",textColor:"var(--background, white)"},on:{click:t.btnBroadcast}}),n("RoundButton",{staticClass:"btnCopy",attrs:{textContent:"Copy it to clipboard",textColor:"var(--background, white)"},on:{click:t.btnCopy}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bRes,expression:"bRes"}],staticClass:"apiResponse"},[t._v(" "+t._s(t.bOk?"Success!":"Failure: "+t.bRes)+" "),n("br"),n("a",{directives:[{name:"show",rawName:"v-show",value:t.bOk,expression:"bOk"}],staticClass:"txid",attrs:{href:t.calcPath,target:"_blank"}},[t._v(" txid: "+t._s(t.bRes)+" ")])]),n("Details",{staticClass:"details"},[n("div",{staticClass:"txHex"},[n("div",[t._v(" Transaction in hex form - safe to broadcast to the Bitcoin network"),n("br"),t._v(" (contains signatures and no private keys): ")]),n("div",{staticClass:"hex"},[t._v(" "+t._s(t.getContractValues.tx?t.getContractValues.tx.toHex():"")+" ")]),n("div",[t._v(" decode the transaction hex independently if desired via tools such as: https://testnet.smartbit.com.au/txs/decodetx ")])])]),n("Details",{staticClass:"details",attrs:{buttonText:"Where to broadcast copied transaction"}},[n("div",{staticClass:"pushInfo"},[t._v(" https://www.smartbit.com.au/txs/pushtx & https://testnet.smartbit.com.au/txs/pushtx *"),n("br"),t._v(" https://blockstream.info/tx/push & https://blockstream.info/testnet/tx/push *"),n("br"),t._v(" https://testnet.blockexplorer.com/tx/send "),n("br"),t._v(" https://live.blockcypher.com/btc/pushtx/"),n("br"),t._v(" https://btc.com/tools/tx/publish"),n("br"),t._v(" possibly more"),n("br"),t._v(" (not all allow p2wsh transactions! supporting marked by *)"),n("br")])])],1)])])},Ka=[];function Xa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qa={name:"InheritanceHeirStep4",components:{RoundButton:Be,Details:rn},data:function(){return{bRes:"",bOk:!1}},mounted:function(){},computed:Wa({},Object(D["c"])("inheritanceHeir",["getContractValues"]),{calcPath:function(){var t=this.getContractValues.networkChoice,e="testnet"===t?"testnet/":"";return"https://blockstream.info/"+e+"tx/"+this.bRes}}),methods:Wa({},Object(D["b"])("inheritanceHeir",["changePage","changeContractValues"]),{btnBroadcast:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Br(this.getContractValues.tx.toHex()));case 2:t=e.sent,200===t.status?(this.bRes=t.data,this.bOk=!0):(this.bRes=t.response.data,this.bOk=!1);case 4:case"end":return e.stop()}}),null,this)},btnCopy:function(){var t=this.getContractValues.tx.toHex();Je(t)&&this.flash("Transaction (hex) copied to clipboard!","success",{timeout:3e3,important:!0})}})},$a=qa,Ma=(n("8c34"),Object(p["a"])($a,La,Ka,!1,null,"2d8e7225",null)),za=Ma.exports;function Ga(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ga(Object(n),!0).forEach((function(e){Object(R["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ja={name:"InheritanceHeir",components:{Stepper:ae,StepperStep:ue,InheritanceHeirStep1:ca,InheritanceHeirStep2:xa,InheritanceHeirStep3:Ha,InheritanceHeirStep4:za},computed:Ya({},Object(D["c"])("inheritanceHeir",["getPagesInfo","getPageSelected"])),methods:Ya({},Object(D["b"])("inheritanceHeir",["changePage"]),{stepperPageChangeRequested:function(t){this.changePage(t)}})},Za=Ja,Qa=(n("88863"),Object(p["a"])(Za,qr,$r,!1,null,"82cad61c",null)),ts=Qa.exports,es=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"animate_this",staticClass:"expander fa"},[t._t("default")],2)},ns=[],rs={name:"Expander",data:function(){return{lastTimer:null}},mounted:function(){window.addEventListener("resize",this.autoHeight),this.animate()},beforeDestroy:function(){window.removeEventListener("resize",this.autoHeight)},updated:function(){this.animate()},methods:{animate:function(){this.$nextTick((function(){var t=this;clearTimeout(this.lastTimer);var e=.5,n=this.$refs.animate_this;n.style.height="auto";var r=n.clientHeight;n.style.transition="none",n.style.height="0px",n.style.transition=e+"s height ease-in-out",this.lastTimer=setTimeout((function(){n.style.height=r+"px"}),1e3*e*.1),this.lastTimer=setTimeout((function(){t.autoHeight()}),1e3*e*1.2)}))},autoHeight:function(){var t=this.$refs.animate_this;t.style.height="auto"}}},as=rs,ss=(n("069b"),Object(p["a"])(as,es,ns,!1,null,null,null)),is=ss.exports,os={name:"InheritanceNav",components:{SelectionButton:Ut,InheritanceCreate:yn,InheritanceOwner:Wr,InheritanceHeir:ts,Expander:is},data:function(){return{lastSelection:""}},methods:{onButtonSelect:function(t){this.lastSelection=t},isSelected:function(t){return this.lastSelection===t},getHeight:function(){return this.$refs.inheritance_nav_view.clientHeight}}},cs=os,ls=Object(p["a"])(cs,Bt,Vt,!1,null,"1c8a6dca",null),us=ls.exports,ds={name:"Inheritance",components:{InheritanceNav:us,InheritanceIntro:Ft}},hs=ds,ps=(n("89fe"),Object(p["a"])(hs,xt,kt,!1,null,"25487d9c",null)),fs=ps.exports,vs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" (TODO) ")])},ms=[],bs={name:"PuzzleDelay"},gs=bs,ys=Object(p["a"])(gs,vs,ms,!1,null,null,null),Cs=ys.exports;n("aede"),n("ab24");n.d(e,"router",(function(){return ws})),r["a"].use(a["a"]),r["a"].use(dt.a);var ws=new a["a"]({routes:[{path:"/",component:_t},{path:"/inheritance",component:fs},{path:"/puzzledelay",component:Cs}]});r["a"].config.productionTip=!1,new r["a"]({router:ws,store:lt,render:function(t){return t(E)}}).$mount("#app")},5818:function(t,e,n){},"5cb4":function(t,e,n){"use strict";var r=n("131a"),a=n.n(r);a.a},6152:function(t,e,n){"use strict";var r=n("a799"),a=n.n(r);a.a},"656c":function(t,e,n){"use strict";var r=n("78c0"),a=n.n(r);a.a},7182:function(t,e,n){},"78c0":function(t,e,n){},"7cdf":function(t,e,n){"use strict";var r=n("d3b3"),a=n.n(r);a.a},"83e6":function(t,e,n){"use strict";var r=n("c425"),a=n.n(r);a.a},8886:function(t,e,n){"use strict";var r=n("4fd6"),a=n.n(r);a.a},88863:function(t,e,n){"use strict";var r=n("b130"),a=n.n(r);a.a},"89fe":function(t,e,n){"use strict";var r=n("b759"),a=n.n(r);a.a},"8c34":function(t,e,n){"use strict";var r=n("12d1"),a=n.n(r);a.a},"8f77":function(t,e,n){},9306:function(t,e,n){},9418:function(t,e,n){},"94a7":function(t,e,n){"use strict";var r=n("35a1"),a=n.n(r);a.a},9734:function(t,e,n){"use strict";var r=n("5818"),a=n.n(r);a.a},"9dff":function(t,e,n){},"9e48":function(t,e,n){},a190:function(t,e,n){"use strict";var r=n("8f77"),a=n.n(r);a.a},a2a3:function(t,e,n){},a2e5:function(t,e,n){"use strict";var r,a;n("99af"),n("c975"),n("fb6a"),n("a434"),n("c19f"),n("ace4"),n("d3b7"),n("e25e"),n("25f0"),n("466d"),n("5319"),n("1276"),n("5cc6"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7");var s=n("7037"),i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};function o(t,e,n){if(4!==e.length)throw new i.exception.invalid("invalid aes block size");var r=t.b[n],a=e[0]^r[0],s=e[n?3:1]^r[1],o=e[2]^r[2];e=e[n?1:3]^r[3];var c,l,u,d,h=r.length/4-2,p=4,f=[0,0,0,0];c=t.s[n],t=c[0];var v=c[1],m=c[2],b=c[3],g=c[4];for(d=0;d<h;d++)c=t[a>>>24]^v[s>>16&255]^m[o>>8&255]^b[255&e]^r[p],l=t[s>>>24]^v[o>>16&255]^m[e>>8&255]^b[255&a]^r[p+1],u=t[o>>>24]^v[e>>16&255]^m[a>>8&255]^b[255&s]^r[p+2],e=t[e>>>24]^v[a>>16&255]^m[s>>8&255]^b[255&o]^r[p+3],p+=4,a=c,s=l,o=u;for(d=0;4>d;d++)f[n?3&-d:d]=g[a>>>24]<<24^g[s>>16&255]<<16^g[o>>8&255]<<8^g[255&e]^r[p++],c=a,a=s,s=o,o=e,e=c;return f}function c(t,e){var n,r,a,s=t.F,i=t.b,o=s[0],c=s[1],l=s[2],u=s[3],d=s[4],h=s[5],p=s[6],f=s[7];for(n=0;64>n;n++)16>n?r=e[n]:(r=e[n+1&15],a=e[n+14&15],r=e[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+e[15&n]+e[n+9&15]|0),r=r+f+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(p^d&(h^p))+i[n],f=p,p=h,h=d,d=u+r|0,u=l,l=c,c=o,o=r+(c&l^u&(c^l))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+l|0,s[3]=s[3]+u|0,s[4]=s[4]+d|0,s[5]=s[5]+h|0,s[6]=s[6]+p|0,s[7]=s[7]+f|0}function l(t,e){var n,r=i.random.K[t],a=[];for(n in r)r.hasOwnProperty(n)&&a.push(r[n]);for(n=0;n<a.length;n++)a[n](e)}function u(t,e){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?t.addEntropy(window.performance.now(),e,"loadtime"):t.addEntropy((new Date).valueOf(),e,"loadtime")}function d(t){t.b=h(t).concat(h(t)),t.L=new i.cipher.aes(t.b)}function h(t){for(var e=0;4>e&&(t.h[e]=t.h[e]+1|0,!t.h[e]);e++);return t.L.encrypt(t.h)}function p(t,e){return function(){e.apply(t,arguments)}}i.cipher.aes=function(t){this.s[0][0][0]||this.O();var e,n,r,a,s=this.s[0][4],o=this.s[1];e=t.length;var c=1;if(4!==e&&6!==e&&8!==e)throw new i.exception.invalid("invalid aes key size");for(this.b=[r=t.slice(0),a=[]],t=e;t<4*e+28;t++)n=r[t-1],(0===t%e||8===e&&4===t%e)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],0===t%e&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[t]=r[t-e]^n;for(e=0;t;e++,t--)n=r[3&e?t:t-4],a[e]=4>=t||4>e?n:o[0][s[n>>>24]]^o[1][s[n>>16&255]]^o[2][s[n>>8&255]]^o[3][s[255&n]]},i.cipher.aes.prototype={encrypt:function(t){return o(this,t,0)},decrypt:function(t){return o(this,t,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var t,e,n,r,a,s,i,o=this.s[0],c=this.s[1],l=o[4],u=c[4],d=[],h=[];for(t=0;256>t;t++)h[(d[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!l[e];e^=r||1,n=h[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,l[e]=s,u[s]=e,a=d[t=d[r=d[e]]],i=16843009*a^65537*t^257*r^16843008*e,a=257*d[s]^16843008*s,t=0;4>t;t++)o[t][e]=a=a<<24^a>>>8,c[t][s]=i=i<<24^i>>>8;for(t=0;5>t;t++)o[t]=o[t].slice(0),c[t]=c[t].slice(0)}},i.bitArray={bitSlice:function(t,e,n){return t=i.bitArray.$(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:i.bitArray.clamp(t,n-e)},extract:function(t,e,n){var r=Math.floor(-e-n&31);return(-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r)&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],r=i.bitArray.getPartial(n);return 32===r?t.concat(e):i.bitArray.$(e,r,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+i.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;t=t.slice(0,Math.ceil(e/32));var n=t.length;return e&=31,0<n&&e&&(t[n-1]=i.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(i.bitArray.bitLength(t)!==i.bitArray.bitLength(e))return!1;var n,r=0;for(n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},$:function(t,e,n,r){var a;for(a=0,void 0===r&&(r=[]);32<=e;e-=32)r.push(n),n=0;if(0===e)return r.concat(t);for(a=0;a<t.length;a++)r.push(n|t[a]>>>e),n=t[a]<<32-e;return a=t.length?t[t.length-1]:0,t=i.bitArray.getPartial(a),r.push(i.bitArray.partial(e+t&31,32<e+t?n:r.pop(),1)),r},i:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,n;for(e=0;e<t.length;++e)n=t[e],t[e]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return t}},i.codec.utf8String={fromBits:function(t){var e,n,r="",a=i.bitArray.bitLength(t);for(e=0;e<a/8;e++)0===(3&e)&&(n=t[e/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],r=0;for(e=0;e<t.length;e++)r=r<<8|t.charCodeAt(e),3===(3&e)&&(n.push(r),r=0);return 3&e&&n.push(i.bitArray.partial(8*(3&e),r)),n}},i.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,r=[];for(t=t.replace(/\s|0x/g,""),n=t.length,t+="00000000",e=0;e<t.length;e+=8)r.push(0^parseInt(t.substr(e,8),16));return i.bitArray.clamp(r,4*n)}},i.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(t,e,n){var r=i.codec.base32.BASE,a=i.codec.base32.REMAINING,s="",o=0,c=i.codec.base32.B,l=0,u=i.bitArray.bitLength(t);for(n&&(c=i.codec.base32.X),n=0;s.length*r<u;)s+=c.charAt((l^t[n]>>>o)>>>a),o<r?(l=t[n]<<r-o,o+=a,n++):(l<<=r,o-=r);for(;7&s.length&&!e;)s+="=";return s},toBits:function(t,e){t=t.replace(/\s|=/g,"").toUpperCase();var n,r,a=i.codec.base32.BITS,s=i.codec.base32.BASE,o=i.codec.base32.REMAINING,c=[],l=0,u=i.codec.base32.B,d=0,h="base32";for(e&&(u=i.codec.base32.X,h="base32hex"),n=0;n<t.length;n++){if(r=u.indexOf(t.charAt(n)),0>r){if(!e)try{return i.codec.base32hex.toBits(t)}catch(p){}throw new i.exception.invalid("this isn't "+h+"!")}l>o?(l-=o,c.push(d^r>>>l),d=r<<a-l):(l+=s,d^=r<<a-l)}return 56&l&&c.push(i.bitArray.partial(56&l,d,1)),c}},i.codec.base32hex={fromBits:function(t,e){return i.codec.base32.fromBits(t,e,1)},toBits:function(t){return i.codec.base32.toBits(t,1)}},i.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){var r="",a=0,s=i.codec.base64.B,o=0,c=i.bitArray.bitLength(t);for(n&&(s=s.substr(0,62)+"-_"),n=0;6*r.length<c;)r+=s.charAt((o^t[n]>>>a)>>>26),6>a?(o=t[n]<<6-a,a+=26,n++):(o<<=6,a-=6);for(;3&r.length&&!e;)r+="=";return r},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,r,a=[],s=0,o=i.codec.base64.B,c=0;for(e&&(o=o.substr(0,62)+"-_"),n=0;n<t.length;n++){if(r=o.indexOf(t.charAt(n)),0>r)throw new i.exception.invalid("this isn't base64!");26<s?(s-=26,a.push(c^r>>>s),c=r<<32-s):(s+=6,c^=r<<32-s)}return 56&s&&a.push(i.bitArray.partial(56&s,c,1)),a}},i.codec.base64url={fromBits:function(t){return i.codec.base64.fromBits(t,1,1)},toBits:function(t){return i.codec.base64.toBits(t,1)}},i.hash.sha256=function(t){this.b[0]||this.O(),t?(this.F=t.F.slice(0),this.A=t.A.slice(0),this.l=t.l):this.reset()},i.hash.sha256.hash=function(t){return(new i.hash.sha256).update(t).finalize()},i.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(t){"string"===typeof t&&(t=i.codec.utf8String.toBits(t));var e,n=this.A=i.bitArray.concat(this.A,t);if(e=this.l,t=this.l=e+i.bitArray.bitLength(t),9007199254740991<t)throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var r=new Uint32Array(n),a=0;for(e=512+e-(512+e&511);e<=t;e+=512)c(this,r.subarray(16*a,16*(a+1))),a+=1;n.splice(0,16*a)}else for(e=512+e-(512+e&511);e<=t;e+=512)c(this,n.splice(0,16));return this},finalize:function(){var t,e=this.A,n=this.F;e=i.bitArray.concat(e,[i.bitArray.partial(1,1)]);for(t=e.length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.l/4294967296)),e.push(0|this.l);e.length;)c(this,e.splice(0,16));return this.reset(),n},Y:[],b:[],O:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}for(var e,n,r=0,a=2;64>r;a++){for(n=!0,e=2;e*e<=a;e++)if(0===a%e){n=!1;break}n&&(8>r&&(this.Y[r]=t(Math.pow(a,.5))),this.b[r]=t(Math.pow(a,1/3)),r++)}}},i.mode.ccm={name:"ccm",G:[],listenProgress:function(t){i.mode.ccm.G.push(t)},unListenProgress:function(t){t=i.mode.ccm.G.indexOf(t),-1<t&&i.mode.ccm.G.splice(t,1)},fa:function(t){var e,n=i.mode.ccm.G.slice();for(e=0;e<n.length;e+=1)n[e](t)},encrypt:function(t,e,n,r,a){var s,o=e.slice(0),c=i.bitArray,l=c.bitLength(n)/8,u=c.bitLength(o)/8;if(a=a||64,r=r||[],7>l)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(s=2;4>s&&u>>>8*s;s++);return s<15-l&&(s=15-l),n=c.clamp(n,8*(15-s)),e=i.mode.ccm.V(t,e,n,r,a,s),o=i.mode.ccm.C(t,o,n,e,a,s),c.concat(o.data,o.tag)},decrypt:function(t,e,n,r,a){a=a||64,r=r||[];var s=i.bitArray,o=s.bitLength(n)/8,c=s.bitLength(e),l=s.clamp(e,c-a),u=s.bitSlice(e,c-a);c=(c-a)/8;if(7>o)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;4>e&&c>>>8*e;e++);if(e<15-o&&(e=15-o),n=s.clamp(n,8*(15-e)),l=i.mode.ccm.C(t,l,n,u,a,e),t=i.mode.ccm.V(t,l.data,n,r,a,e),!s.equal(l.tag,t))throw new i.exception.corrupt("ccm: tag doesn't match");return l.data},na:function(t,e,n,r,a,s){var o=[],c=i.bitArray,l=c.i;if(r=[c.partial(8,(e.length?64:0)|r-2<<2|s-1)],r=c.concat(r,n),r[3]|=a,r=t.encrypt(r),e.length)for(n=c.bitLength(e)/8,65279>=n?o=[c.partial(16,n)]:4294967295>=n&&(o=c.concat([c.partial(16,65534)],[n])),o=c.concat(o,e),e=0;e<o.length;e+=4)r=t.encrypt(l(r,o.slice(e,e+4).concat([0,0,0])));return r},V:function(t,e,n,r,a,s){var o=i.bitArray,c=o.i;if(a/=8,a%2||4>a||16<a)throw new i.exception.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<e.length)throw new i.exception.bug("ccm: can't deal with 4GiB or more data");for(n=i.mode.ccm.na(t,r,n,a,o.bitLength(e)/8,s),r=0;r<e.length;r+=4)n=t.encrypt(c(n,e.slice(r,r+4).concat([0,0,0])));return o.clamp(n,8*a)},C:function(t,e,n,r,a,s){var o,c=i.bitArray;o=c.i;var l=e.length,u=c.bitLength(e),d=l/50,h=d;if(n=c.concat([c.partial(8,s-1)],n).concat([0,0,0]).slice(0,4),r=c.bitSlice(o(r,t.encrypt(n)),0,a),!l)return{tag:r,data:[]};for(o=0;o<l;o+=4)o>d&&(i.mode.ccm.fa(o/l),d+=h),n[3]++,a=t.encrypt(n),e[o]^=a[0],e[o+1]^=a[1],e[o+2]^=a[2],e[o+3]^=a[3];return{tag:r,data:c.clamp(e,u)}}},i.mode.ocb2={name:"ocb2",encrypt:function(t,e,n,r,a,s){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");var o,c=i.mode.ocb2.S,l=i.bitArray,u=l.i,d=[0,0,0,0];n=c(t.encrypt(n));var h,p=[];for(r=r||[],a=a||64,o=0;o+4<e.length;o+=4)h=e.slice(o,o+4),d=u(d,h),p=p.concat(u(n,t.encrypt(u(n,h)))),n=c(n);return h=e.slice(o),e=l.bitLength(h),o=t.encrypt(u(n,[0,0,0,e])),h=l.clamp(u(h.concat([0,0,0]),o),e),d=u(d,u(h.concat([0,0,0]),o)),d=t.encrypt(u(d,u(n,c(n)))),r.length&&(d=u(d,s?r:i.mode.ocb2.pmac(t,r))),p.concat(l.concat(h,l.clamp(d,a)))},decrypt:function(t,e,n,r,a,s){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");a=a||64;var o,c,l=i.mode.ocb2.S,u=i.bitArray,d=u.i,h=[0,0,0,0],p=l(t.encrypt(n)),f=i.bitArray.bitLength(e)-a,v=[];for(r=r||[],n=0;n+4<f/32;n+=4)o=d(p,t.decrypt(d(p,e.slice(n,n+4)))),h=d(h,o),v=v.concat(o),p=l(p);if(c=f-32*n,o=t.encrypt(d(p,[0,0,0,c])),o=d(o,u.clamp(e.slice(n),c).concat([0,0,0])),h=d(h,o),h=t.encrypt(d(h,d(p,l(p)))),r.length&&(h=d(h,s?r:i.mode.ocb2.pmac(t,r))),!u.equal(u.clamp(h,a),u.bitSlice(e,f)))throw new i.exception.corrupt("ocb: tag doesn't match");return v.concat(u.clamp(o,c))},pmac:function(t,e){var n,r=i.mode.ocb2.S,a=i.bitArray,s=a.i,o=[0,0,0,0],c=t.encrypt([0,0,0,0]);c=s(c,r(r(c)));for(n=0;n+4<e.length;n+=4)c=r(c),o=s(o,t.encrypt(s(c,e.slice(n,n+4))));return n=e.slice(n),128>a.bitLength(n)&&(c=s(c,r(c)),n=a.concat(n,[-2147483648,0,0,0])),o=s(o,n),t.encrypt(s(r(s(c,r(c))),o))},S:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},i.mode.gcm={name:"gcm",encrypt:function(t,e,n,r,a){var s=e.slice(0);return e=i.bitArray,r=r||[],t=i.mode.gcm.C(!0,t,s,r,n,a||128),e.concat(t.data,t.tag)},decrypt:function(t,e,n,r,a){var s=e.slice(0),o=i.bitArray,c=o.bitLength(s);if(a=a||128,r=r||[],a<=c?(e=o.bitSlice(s,c-a),s=o.bitSlice(s,0,c-a)):(e=s,s=[]),t=i.mode.gcm.C(!1,t,s,r,n,a),!o.equal(t.tag,e))throw new i.exception.corrupt("gcm: tag doesn't match");return t.data},ka:function(t,e){var n,r,a,s,o,c=i.bitArray.i;for(a=[0,0,0,0],s=e.slice(0),n=0;128>n;n++){for((r=0!==(t[Math.floor(n/32)]&1<<31-n%32))&&(a=c(a,s)),o=0!==(1&s[3]),r=3;0<r;r--)s[r]=s[r]>>>1|(1&s[r-1])<<31;s[0]>>>=1,o&&(s[0]^=-520093696)}return a},j:function(t,e,n){var r,a=n.length;for(e=e.slice(0),r=0;r<a;r+=4)e[0]^=4294967295&n[r],e[1]^=4294967295&n[r+1],e[2]^=4294967295&n[r+2],e[3]^=4294967295&n[r+3],e=i.mode.gcm.ka(e,t);return e},C:function(t,e,n,r,a,s){var o,c,l,u,d,h,p,f,v=i.bitArray;for(h=n.length,p=v.bitLength(n),f=v.bitLength(r),c=v.bitLength(a),o=e.encrypt([0,0,0,0]),96===c?(a=a.slice(0),a=v.concat(a,[1])):(a=i.mode.gcm.j(o,[0,0,0,0],a),a=i.mode.gcm.j(o,a,[0,0,Math.floor(c/4294967296),4294967295&c])),c=i.mode.gcm.j(o,[0,0,0,0],r),d=a.slice(0),r=c.slice(0),t||(r=i.mode.gcm.j(o,c,n)),u=0;u<h;u+=4)d[3]++,l=e.encrypt(d),n[u]^=l[0],n[u+1]^=l[1],n[u+2]^=l[2],n[u+3]^=l[3];return n=v.clamp(n,p),t&&(r=i.mode.gcm.j(o,c,n)),t=[Math.floor(f/4294967296),4294967295&f,Math.floor(p/4294967296),4294967295&p],r=i.mode.gcm.j(o,r,t),l=e.encrypt(a),r[0]^=l[0],r[1]^=l[1],r[2]^=l[2],r[3]^=l[3],{tag:v.bitSlice(r,0,s),data:n}}},i.misc.hmac=function(t,e){this.W=e=e||i.hash.sha256;var n,r=[[],[]],a=e.prototype.blockSize/32;for(this.w=[new e,new e],t.length>a&&(t=e.hash(t)),n=0;n<a;n++)r[0][n]=909522486^t[n],r[1][n]=1549556828^t[n];this.w[0].update(r[0]),this.w[1].update(r[1]),this.R=new e(this.w[0])},i.misc.hmac.prototype.encrypt=i.misc.hmac.prototype.mac=function(t){if(this.aa)throw new i.exception.invalid("encrypt on already updated hmac called!");return this.update(t),this.digest(t)},i.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},i.misc.hmac.prototype.update=function(t){this.aa=!0,this.R.update(t)},i.misc.hmac.prototype.digest=function(){var t=this.R.finalize();t=new this.W(this.w[1]).update(t).finalize();return this.reset(),t},i.misc.pbkdf2=function(t,e,n,r,a){if(n=n||1e4,0>r||0>n)throw new i.exception.invalid("invalid params to pbkdf2");"string"===typeof t&&(t=i.codec.utf8String.toBits(t)),"string"===typeof e&&(e=i.codec.utf8String.toBits(e)),a=a||i.misc.hmac,t=new a(t);var s,o,c,l,u=[],d=i.bitArray;for(l=1;32*u.length<(r||1);l++){for(a=s=t.encrypt(d.concat(e,[l])),o=1;o<n;o++)for(s=t.encrypt(s),c=0;c<s.length;c++)a[c]^=s[c];u=u.concat(a)}return r&&(u=d.clamp(u,r)),u},i.prng=function(t){this.c=[new i.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=t,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},i.prng.prototype={randomWords:function(t,e){var n,r,a=[];if(n=this.isReady(e),n===this.u)throw new i.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I),r=[];var s,o=0;for(this.Z=r[0]=(new Date).valueOf()+this.da,s=0;16>s;s++)r.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(r=r.concat(this.c[s].finalize()),o+=this.m[s],this.m[s]=0,n||!(this.P&1<<s));s++);for(this.P>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.m.push(0)),this.f-=o,o>this.o&&(this.o=o),this.P++,this.b=i.hash.sha256.hash(this.b.concat(r)),this.L=new i.cipher.aes(this.b),n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<t;n+=4)0===(n+1)%this.ca&&d(this),r=h(this),a.push(r[0],r[1],r[2],r[3]);return d(this),a.slice(0,t)},setDefaultParanoia:function(t,e){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=t},addEntropy:function(t,e,n){n=n||"user";var r,a,o=(new Date).valueOf(),c=this.H[n],u=this.isReady(),d=0;switch(r=this.U[n],void 0===r&&(r=this.U[n]=this.ha++),void 0===c&&(c=this.H[n]=0),this.H[n]=(this.H[n]+1)%this.c.length,s(t)){case"number":void 0===e&&(e=1),this.c[c].update([r,this.N++,1,e,o,1,0|t]);break;case"object":if(n=Object.prototype.toString.call(t),"[object Uint32Array]"===n){for(a=[],n=0;n<t.length;n++)a.push(t[n]);t=a}else for("[object Array]"!==n&&(d=1),n=0;n<t.length&&!d;n++)"number"!==typeof t[n]&&(d=1);if(!d){if(void 0===e)for(n=e=0;n<t.length;n++)for(a=t[n];0<a;)e++,a>>>=1;this.c[c].update([r,this.N++,2,e,o,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this.c[c].update([r,this.N++,3,e,o,t.length]),this.c[c].update(t);break;default:d=1}if(d)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[c]+=e,this.f+=e,u===this.u&&(this.isReady()!==this.u&&l("seeded",Math.max(this.o,this.f)),l("progress",this.getProgress()))},isReady:function(t){return t=this.T[void 0!==t?t:this.M],this.o&&this.o>=t?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=t?this.J|this.u:this.u},getProgress:function(t){return t=this.T[t||this.M],this.o>=t?1:this.f>t?1:this.f/t},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:p(this,this.ma),mouseCollector:p(this,this.oa),keyboardCollector:p(this,this.la),accelerometerCollector:p(this,this.ea),touchCollector:p(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(t,e){this.K[t][this.ga++]=e},removeEventListener:function(t,e){var n,r,a=this.K[t],s=[];for(r in a)a.hasOwnProperty(r)&&a[r]===e&&s.push(r);for(n=0;n<s.length;n++)r=s[n],delete a[r]},la:function(){u(this,1)},oa:function(t){var e,n;try{e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0}catch(r){n=e=0}0!=e&&0!=n&&this.addEntropy([e,n],2,"mouse"),u(this,0)},qa:function(t){t=t.touches[0]||t.changedTouches[0],this.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch"),u(this,0)},ma:function(){u(this,2)},ea:function(t){if(t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;"number"===typeof e&&this.addEntropy(e,1,"accelerometer")}t&&this.addEntropy(t,2,"accelerometer"),u(this,0)}},i.random=new i.prng(6);t:try{var f,v,m,b;if(b=t.exports){var g;try{g=n("1c46")}catch(y){g=null}b=v=g}if(b&&v.randomBytes)f=v.randomBytes(128),f=new Uint32Array(new Uint8Array(f).buffer),i.random.addEntropy(f,1024,"crypto['randomBytes']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){if(m=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(m);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(m)}i.random.addEntropy(m,1024,"crypto['getRandomValues']")}}catch(y){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(y))}i.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(t,e,n,r){n=n||{},r=r||{};var a,s=i.json,o=s.g({iv:i.random.randomWords(4,0)},s.defaults);if(s.g(o,n),n=o.adata,"string"===typeof o.salt&&(o.salt=i.codec.base64.toBits(o.salt)),"string"===typeof o.iv&&(o.iv=i.codec.base64.toBits(o.iv)),!i.mode[o.mode]||!i.cipher[o.cipher]||"string"===typeof t&&100>=o.iter||64!==o.ts&&96!==o.ts&&128!==o.ts||128!==o.ks&&192!==o.ks&&256!==o.ks||2>o.iv.length||4<o.iv.length)throw new i.exception.invalid("json encrypt: invalid parameters");return"string"===typeof t?(a=i.misc.cachedPbkdf2(t,o),t=a.key.slice(0,o.ks/32),o.salt=a.salt):i.ecc&&t instanceof i.ecc.elGamal.publicKey&&(a=t.kem(),o.kemtag=a.tag,t=a.key.slice(0,o.ks/32)),"string"===typeof e&&(e=i.codec.utf8String.toBits(e)),"string"===typeof n&&(o.adata=n=i.codec.utf8String.toBits(n)),a=new i.cipher[o.cipher](t),s.g(r,o),r.key=t,o.ct="ccm"===o.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e instanceof ArrayBuffer?i.arrayBuffer.ccm.encrypt(a,e,o.iv,n,o.ts):i.mode[o.mode].encrypt(a,e,o.iv,n,o.ts),o},encrypt:function(t,e,n,r){var a=i.json,s=a.ja.apply(a,arguments);return a.encode(s)},ia:function(t,e,n,r){n=n||{},r=r||{};var a,s,o=i.json;if(e=o.g(o.g(o.g({},o.defaults),e),n,!0),a=e.adata,"string"===typeof e.salt&&(e.salt=i.codec.base64.toBits(e.salt)),"string"===typeof e.iv&&(e.iv=i.codec.base64.toBits(e.iv)),!i.mode[e.mode]||!i.cipher[e.cipher]||"string"===typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)throw new i.exception.invalid("json decrypt: invalid parameters");return"string"===typeof t?(s=i.misc.cachedPbkdf2(t,e),t=s.key.slice(0,e.ks/32),e.salt=s.salt):i.ecc&&t instanceof i.ecc.elGamal.secretKey&&(t=t.unkem(i.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32)),"string"===typeof a&&(a=i.codec.utf8String.toBits(a)),s=new i.cipher[e.cipher](t),a="ccm"===e.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e.ct instanceof ArrayBuffer?i.arrayBuffer.ccm.decrypt(s,e.ct,e.iv,e.tag,a,e.ts):i.mode[e.mode].decrypt(s,e.ct,e.iv,a,e.ts),o.g(r,e),r.key=t,1===n.raw?a:i.codec.utf8String.fromBits(a)},decrypt:function(t,e,n,r){var a=i.json;return a.ia(t,a.decode(e),n,r)},encode:function(t){var e,n="{",r="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new i.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+e+'":',r=",",s(t[e])){case"number":case"boolean":n+=t[e];break;case"string":n+='"'+escape(t[e])+'"';break;case"object":n+='"'+i.codec.base64.fromBits(t[e],0)+'"';break;default:throw new i.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(t){if(t=t.replace(/\s/g,""),!t.match(/^\{.*\}$/))throw new i.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,n,r={};for(e=0;e<t.length;e++){if(!(n=t[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new i.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?i.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(t,e,n){if(void 0===t&&(t={}),void 0===e)return t;for(var r in e)if(e.hasOwnProperty(r)){if(n&&void 0!==t[r]&&t[r]!==e[r])throw new i.exception.invalid("required parameter overridden");t[r]=e[r]}return t},sa:function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&t[n]!==e[n]&&(r[n]=t[n]);return r},ra:function(t,e){var n,r={};for(n=0;n<e.length;n++)void 0!==t[e[n]]&&(r[e[n]]=t[e[n]]);return r}},i.encrypt=i.json.encrypt,i.decrypt=i.json.decrypt,i.misc.pa={},i.misc.cachedPbkdf2=function(t,e){var n,r=i.misc.pa;return e=e||{},n=e.iter||1e3,r=r[t]=r[t]||{},n=r[n]=r[n]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):i.random.randomWords(2,0)},r=void 0===e.salt?n.firstSalt:e.salt,n[r]=n[r]||i.misc.pbkdf2(t,r,e.iter),{key:n[r].slice(0),salt:r.slice(0)}},t.exports&&(t.exports=i),r=[],a=function(){return i}.apply(e,r),void 0===a||(t.exports=a)},a799:function(t,e,n){},ab24:function(t,e,n){},ad98:function(t,e,n){"use strict";var r=n("c9cd"),a=n.n(r);a.a},ada5:function(t,e,n){"use strict";var r=n("285a"),a=n.n(r);a.a},ae4d:function(t,e,n){"use strict";var r=n("d7be"),a=n.n(r);a.a},aede:function(t,e,n){},aef2:function(t,e,n){},b130:function(t,e,n){},b1b1:function(t,e,n){"use strict";var r=n("2b9f"),a=n.n(r);a.a},b224:function(t,e,n){"use strict";var r=n("7182"),a=n.n(r);a.a},b6ce:function(t,e,n){},b759:function(t,e,n){},c060:function(t,e,n){},c425:function(t,e,n){},c545:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return p}));n("a15b"),n("b64b"),n("d3b7"),n("acd8"),n("e25e"),n("25f0"),n("466d"),n("1276"),n("159b");var r=n("59da"),a=n.n(r),s=n("c4d5"),i=n.n(s),o=function(e){try{var n=a.a.opcodes,r=a.a.networks[e.networkChoice],s=a.a.Transaction.SIGHASH_ALL,i=a.a.ECPair.fromWIF(e.heirPrivateKeyWIF,r),o=e.scriptHex,c=Math.floor(1e8*parseFloat(e.toAmount)),l=t.from(o,"hex"),u=l,d=new a.a.TransactionBuilder(r),h=parseInt(e.relativeLockTime,10);Object.keys(e.selectedUTXO).forEach((function(e){var n=e.split("-")[0],r=e.split("-")[1];d.addInput(t.from(n.match(/../g).reverse().join(""),"hex"),parseInt(r,10),h)})),d.addOutput(e.toAddress,c);var p=d.buildIncomplete();return p.ins.forEach((function(t,o){var c=t.hash.toString("hex").match(/../g).reverse().join(""),d=t.index.toString(),h=Math.floor(1e8*parseFloat(e.selectedUTXO[c+"-"+d])),f=p.hashForWitnessV0(o,u,h,s),v=p.hashForSignature(o,l,s),m=a.a.script.signature.encode(i.sign(f),s),b=a.a.script.signature.encode(i.sign(v),s),g=a.a.payments.p2wsh({redeem:{input:a.a.script.compile([m,n.OP_FALSE]),output:u},network:r}).witness,y=a.a.payments.p2sh({redeem:{input:a.a.script.compile([b,n.OP_FALSE]),output:l}}).input;if("p2wsh"===e.addressType)p.setWitness(o,g);else{if("p2sh"!==e.addressType)throw new Error("my errors: source address type unknown");p.setInputScript(o,y)}})),p}catch(f){return}},c=function(e){try{var n=a.a.opcodes,r=a.a.networks[e.networkChoice],s=a.a.Transaction.SIGHASH_ALL,i=a.a.ECPair.fromWIF(e.ownerPrivateKeyWIF,r),o=e.scriptHex,c=e.spending,l=Math.floor(1e8*parseFloat(e.toAmount)),u=Math.floor(1e8*parseFloat(e.changeAmount)),d=t.from(o,"hex"),h=d,p=new a.a.TransactionBuilder(r);Object.keys(e.selectedUTXO).forEach((function(e){var n=e.split("-")[0],r=e.split("-")[1];p.addInput(t.from(n.match(/../g).reverse().join(""),"hex"),parseInt(r,10),4294967294)})),c&&0!==l&&p.addOutput(e.toAddress,l),e.change&&p.addOutput(e.changeAddress,u);var f=p.buildIncomplete();return f.ins.forEach((function(t,o){var c=t.hash.toString("hex").match(/../g).reverse().join(""),l=t.index.toString(),u=Math.floor(1e8*parseFloat(e.selectedUTXO[c+"-"+l])),p=f.hashForWitnessV0(o,h,u,s),v=f.hashForSignature(o,d,s),m=a.a.script.signature.encode(i.sign(p),s),b=a.a.script.signature.encode(i.sign(v),s),g=a.a.payments.p2wsh({redeem:{input:a.a.script.compile([m,n.OP_TRUE]),output:h},network:r}).witness,y=a.a.payments.p2sh({redeem:{input:a.a.script.compile([b,n.OP_TRUE]),output:d}}).input;if("p2wsh"===e.addressType)f.setWitness(o,g);else{if("p2sh"!==e.addressType)throw new Error("my errors: source address type unknown");f.setInputScript(o,y)}})),f}catch(v){return}},l=function(t){var e=a.a.networks[t];return a.a.ECPair.makeRandom({network:e}).toWIF()},u=function(t){var e=t.days,n=t.ownerPrivateKeyWIF,r=t.heirPrivateKeyWIF,s=t.networkChoice,o=t.addressType,c=a.a.networks[s],l=a.a.opcodes,u=a.a.script.number.encode,d=a.a.ECPair.fromWIF(n,c),h=a.a.ECPair.fromWIF(r,c),p=i.a.encode({seconds:512*Math.floor(24*e*60*60/512)}),f=a.a.script.compile([l.OP_IF,d.publicKey,l.OP_CHECKSIG,l.OP_ELSE,u(p),l.OP_CHECKSEQUENCEVERIFY,l.OP_DROP,h.publicKey,l.OP_CHECKSIG,l.OP_ENDIF]),v=a.a.payments.p2wsh({redeem:{output:f,network:c},network:c}),m=a.a.payments.p2sh({redeem:{output:f,network:c},network:c}),b={contract:"inheritance timer",addressType:o,networkChoice:s,contractSummary:"IF <ownerPublicKey> CHECKSIG ELSE <relativeLockTime> CHECKSEQUENCEVERIFY DROP <heirPublicKey> CHECKSIG ENDIF",ownerPrivateKeyWIF:n,heirPrivateKeyWIF:r,witnessScriptHex:f.toString("hex"),witnessScriptHash:a.a.crypto.sha256(f).toString("hex"),relativeLockTime:p.toString(),currentDate:(new Date).toString(),daysAfterConfirmForUnlock:e,address:v.address},g={contract:"inheritance timer",network:s,addressType:o,contractSummary:"IF <ownerPublicKey> CHECKSIG ELSE <relativeLockTime> CHECKSEQUENCEVERIFY DROP <heirPublicKey> CHECKSIG ENDIF",ownerPrivateKeyWIF:n,heirPrivateKeyWIF:r,redeemScriptHex:f.toString("hex"),redeemScriptHash:a.a.crypto.sha256(f).toString("hex"),relativeLockTime:p.toString(),currentDate:(new Date).toString(),daysAfterConfirmForUnlock:e,address:m.address};return"p2wsh"===o?b:"p2sh"===o?g:void 0},d=function(t){var e=t.wif,n=t.networkChoice;try{var r=a.a.networks[n];return a.a.ECPair.fromWIF(e,r),!0}catch(s){return!1}},h=function(t){var e;try{a.a.ECPair.fromWIF(t,a.a.networks.bitcoin),e="bitcoin"}catch(n){}try{a.a.ECPair.fromWIF(t,a.a.networks.testnet),e="testnet"}catch(n){}return e},p=function(t){var e;try{a.a.address.toOutputScript(t,a.a.networks.bitcoin),e="bitcoin"}catch(n){}try{a.a.address.toOutputScript(t,a.a.networks.testnet),e="testnet"}catch(n){}return e}}).call(this,n("b639").Buffer)},c56d:function(t,e,n){"use strict";var r=n("0311"),a=n.n(r);a.a},c956:function(t,e,n){},c9cd:function(t,e,n){},cb56:function(t,e,n){},ccb0:function(t,e,n){"use strict";var r=n("9306"),a=n.n(r);a.a},d3b3:function(t,e,n){},d563:function(t,e,n){},d7be:function(t,e,n){},da37:function(t,e,n){},da9e:function(t,e,n){},e750:function(t,e,n){"use strict";var r=n("1beb"),a=n.n(r);a.a},ea68:function(t,e,n){},ed63:function(t,e,n){"use strict";var r=n("c956"),a=n.n(r);a.a},f45c:function(t,e,n){},f759:function(t,e,n){"use strict";var r=n("1f86"),a=n.n(r);a.a}});
//# sourceMappingURL=app.a7ca6a12.js.map